{"version":3,"file":"fixed-injectable-script.js","mappings":"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","sources":["webpack://readium-js/./node_modules/.pnpm/approx-string-match@1.1.0/node_modules/approx-string-match/dist/index.js","webpack://readium-js/./node_modules/.pnpm/call-bind@1.0.2/node_modules/call-bind/callBound.js","webpack://readium-js/./node_modules/.pnpm/call-bind@1.0.2/node_modules/call-bind/index.js","webpack://readium-js/./node_modules/.pnpm/define-data-property@1.1.0/node_modules/define-data-property/index.js","webpack://readium-js/./node_modules/.pnpm/define-properties@1.2.1/node_modules/define-properties/index.js","webpack://readium-js/./node_modules/.pnpm/es-set-tostringtag@2.0.1/node_modules/es-set-tostringtag/index.js","webpack://readium-js/./node_modules/.pnpm/es-to-primitive@1.2.1/node_modules/es-to-primitive/es2015.js","webpack://readium-js/./node_modules/.pnpm/es-to-primitive@1.2.1/node_modules/es-to-primitive/helpers/isPrimitive.js","webpack://readium-js/./node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/implementation.js","webpack://readium-js/./node_modules/.pnpm/function-bind@1.1.1/node_modules/function-bind/index.js","webpack://readium-js/./node_modules/.pnpm/functions-have-names@1.2.3/node_modules/functions-have-names/index.js","webpack://readium-js/./node_modules/.pnpm/get-intrinsic@1.2.1/node_modules/get-intrinsic/index.js","webpack://readium-js/./node_modules/.pnpm/gopd@1.0.1/node_modules/gopd/index.js","webpack://readium-js/./node_modules/.pnpm/has-property-descriptors@1.0.0/node_modules/has-property-descriptors/index.js","webpack://readium-js/./node_modules/.pnpm/has-proto@1.0.1/node_modules/has-proto/index.js","webpack://readium-js/./node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js","webpack://readium-js/./node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js","webpack://readium-js/./node_modules/.pnpm/has-tostringtag@1.0.0/node_modules/has-tostringtag/shams.js","webpack://readium-js/./node_modules/.pnpm/has@1.0.4/node_modules/has/src/index.js","webpack://readium-js/./node_modules/.pnpm/internal-slot@1.0.5/node_modules/internal-slot/index.js","webpack://readium-js/./node_modules/.pnpm/is-callable@1.2.7/node_modules/is-callable/index.js","webpack://readium-js/./node_modules/.pnpm/is-date-object@1.0.5/node_modules/is-date-object/index.js","webpack://readium-js/./node_modules/.pnpm/is-regex@1.1.4/node_modules/is-regex/index.js","webpack://readium-js/./node_modules/.pnpm/is-symbol@1.0.4/node_modules/is-symbol/index.js","webpack://readium-js/./node_modules/.pnpm/object-inspect@1.12.3/node_modules/object-inspect/index.js","webpack://readium-js/./node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/implementation.js","webpack://readium-js/./node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/index.js","webpack://readium-js/./node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/isArguments.js","webpack://readium-js/./node_modules/.pnpm/regexp.prototype.flags@1.5.1/node_modules/regexp.prototype.flags/implementation.js","webpack://readium-js/./node_modules/.pnpm/regexp.prototype.flags@1.5.1/node_modules/regexp.prototype.flags/index.js","webpack://readium-js/./node_modules/.pnpm/regexp.prototype.flags@1.5.1/node_modules/regexp.prototype.flags/polyfill.js","webpack://readium-js/./node_modules/.pnpm/regexp.prototype.flags@1.5.1/node_modules/regexp.prototype.flags/shim.js","webpack://readium-js/./node_modules/.pnpm/safe-regex-test@1.0.0/node_modules/safe-regex-test/index.js","webpack://readium-js/./node_modules/.pnpm/set-function-name@2.0.1/node_modules/set-function-name/index.js","webpack://readium-js/./node_modules/.pnpm/side-channel@1.0.4/node_modules/side-channel/index.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.matchall@4.0.10/node_modules/string.prototype.matchall/implementation.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.matchall@4.0.10/node_modules/string.prototype.matchall/index.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.matchall@4.0.10/node_modules/string.prototype.matchall/polyfill-regexp-matchall.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.matchall@4.0.10/node_modules/string.prototype.matchall/polyfill.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.matchall@4.0.10/node_modules/string.prototype.matchall/regexp-matchall.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.matchall@4.0.10/node_modules/string.prototype.matchall/shim.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.trim@1.2.8/node_modules/string.prototype.trim/implementation.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.trim@1.2.8/node_modules/string.prototype.trim/index.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.trim@1.2.8/node_modules/string.prototype.trim/polyfill.js","webpack://readium-js/./node_modules/.pnpm/string.prototype.trim@1.2.8/node_modules/string.prototype.trim/shim.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/AdvanceStringIndex.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/Call.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/CodePointAt.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/CreateIterResultObject.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/CreateMethodProperty.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/CreateRegExpStringIterator.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/DefinePropertyOrThrow.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/FromPropertyDescriptor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/Get.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/GetMethod.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/GetV.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/IsAccessorDescriptor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/IsArray.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/IsCallable.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/IsConstructor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/IsDataDescriptor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/IsPropertyKey.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/IsRegExp.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/OrdinaryObjectCreate.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/RegExpExec.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/RequireObjectCoercible.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/SameValue.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/Set.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/SpeciesConstructor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/StringToNumber.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/ToBoolean.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/ToIntegerOrInfinity.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/ToLength.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/ToNumber.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/ToPrimitive.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/ToPropertyDescriptor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/ToString.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/Type.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/UTF16SurrogatePairToCodePoint.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/floor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/2023/truncate.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/5/CheckObjectCoercible.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/5/Type.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/GetIntrinsic.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/DefineOwnProperty.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/IsArray.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/assertRecord.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/forEach.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/fromPropertyDescriptor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/isFinite.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/isInteger.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/isLeadingSurrogate.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/isMatchRecord.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/isNaN.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/isPrimitive.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/isPropertyDescriptor.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/isTrailingSurrogate.js","webpack://readium-js/./node_modules/.pnpm/es-abstract@1.22.2/node_modules/es-abstract/helpers/maxSafeInteger.js","webpack://readium-js/webpack/bootstrap","webpack://readium-js/webpack/runtime/compat get default export","webpack://readium-js/webpack/runtime/define property getters","webpack://readium-js/webpack/runtime/hasOwnProperty shorthand","webpack://readium-js/./src/util/log.ts","webpack://readium-js/./src/util/rect.ts","webpack://readium-js/./src/vendor/hypothesis/annotator/anchoring/trim-range.ts","webpack://readium-js/./src/vendor/hypothesis/annotator/anchoring/text-range.ts","webpack://readium-js/./src/vendor/hypothesis/annotator/anchoring/match-quote.ts","webpack://readium-js/./src/vendor/hypothesis/annotator/anchoring/types.ts","webpack://readium-js/./src/common/decoration.ts","webpack://readium-js/./src/common/selection.ts","webpack://readium-js/./src/fixed/decoration-wrapper.ts","webpack://readium-js/./src/fixed/iframe-message.ts","webpack://readium-js/./src/fixed/selection-wrapper.ts","webpack://readium-js/./src/index-fixed-injectable.ts","webpack://readium-js/./src/bridge/all-initialization-bridge.ts","webpack://readium-js/./src/util/viewport.ts","webpack://readium-js/./src/common/gestures.ts"],"sourcesContent":["\"use strict\";\n/**\n * Implementation of Myers' online approximate string matching algorithm [1],\n * with additional optimizations suggested by [2].\n *\n * This has O((k/w) * n) complexity where `n` is the length of the text, `k` is\n * the maximum number of errors allowed (always <= the pattern length) and `w`\n * is the word size. Because JS only supports bitwise operations on 32 bit\n * integers, `w` is 32.\n *\n * As far as I am aware, there aren't any online algorithms which are\n * significantly better for a wide range of input parameters. The problem can be\n * solved faster using \"filter then verify\" approaches which first filter out\n * regions of the text that cannot match using a \"cheap\" check and then verify\n * the remaining potential matches. The verify step requires an algorithm such\n * as this one however.\n *\n * The algorithm's approach is essentially to optimize the classic dynamic\n * programming solution to the problem by computing columns of the matrix in\n * word-sized chunks (ie. dealing with 32 chars of the pattern at a time) and\n * avoiding calculating regions of the matrix where the minimum error count is\n * guaranteed to exceed the input threshold.\n *\n * The paper consists of two parts, the first describes the core algorithm for\n * matching patterns <= the size of a word (implemented by `advanceBlock` here).\n * The second uses the core algorithm as part of a larger block-based algorithm\n * to handle longer patterns.\n *\n * [1] G. Myers, A Fast Bit-Vector Algorithm for Approximate String Matching\n * Based on Dynamic Programming, vol. 46, no. 3, pp. 395415, 1999.\n *\n * [2] oi, M. (2014). An simd dynamic programming c/c++ library (Doctoral\n * dissertation, Fakultet Elektrotehnike i raunarstva, Sveuilite u Zagrebu).\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction reverse(s) {\n    return s\n        .split(\"\")\n        .reverse()\n        .join(\"\");\n}\n/**\n * Given the ends of approximate matches for `pattern` in `text`, find\n * the start of the matches.\n *\n * @param findEndFn - Function for finding the end of matches in\n * text.\n * @return Matches with the `start` property set.\n */\nfunction findMatchStarts(text, pattern, matches) {\n    var patRev = reverse(pattern);\n    return matches.map(function (m) {\n        // Find start of each match by reversing the pattern and matching segment\n        // of text and searching for an approx match with the same number of\n        // errors.\n        var minStart = Math.max(0, m.end - pattern.length - m.errors);\n        var textRev = reverse(text.slice(minStart, m.end));\n        // If there are multiple possible start points, choose the one that\n        // maximizes the length of the match.\n        var start = findMatchEnds(textRev, patRev, m.errors).reduce(function (min, rm) {\n            if (m.end - rm.end < min) {\n                return m.end - rm.end;\n            }\n            return min;\n        }, m.end);\n        return {\n            start: start,\n            end: m.end,\n            errors: m.errors\n        };\n    });\n}\n/**\n * Return 1 if a number is non-zero or zero otherwise, without using\n * conditional operators.\n *\n * This should get inlined into `advanceBlock` below by the JIT.\n *\n * Adapted from https://stackoverflow.com/a/3912218/434243\n */\nfunction oneIfNotZero(n) {\n    return ((n | -n) >> 31) & 1;\n}\n/**\n * Block calculation step of the algorithm.\n *\n * From Fig 8. on p. 408 of [1], additionally optimized to replace conditional\n * checks with bitwise operations as per Section 4.2.3 of [2].\n *\n * @param ctx - The pattern context object\n * @param peq - The `peq` array for the current character (`ctx.peq.get(ch)`)\n * @param b - The block level\n * @param hIn - Horizontal input delta  {1,0,-1}\n * @return Horizontal output delta  {1,0,-1}\n */\nfunction advanceBlock(ctx, peq, b, hIn) {\n    var pV = ctx.P[b];\n    var mV = ctx.M[b];\n    var hInIsNegative = hIn >>> 31; // 1 if hIn < 0 or 0 otherwise.\n    var eq = peq[b] | hInIsNegative;\n    // Step 1: Compute horizontal deltas.\n    var xV = eq | mV;\n    var xH = (((eq & pV) + pV) ^ pV) | eq;\n    var pH = mV | ~(xH | pV);\n    var mH = pV & xH;\n    // Step 2: Update score (value of last row of this block).\n    var hOut = oneIfNotZero(pH & ctx.lastRowMask[b]) -\n        oneIfNotZero(mH & ctx.lastRowMask[b]);\n    // Step 3: Update vertical deltas for use when processing next char.\n    pH <<= 1;\n    mH <<= 1;\n    mH |= hInIsNegative;\n    pH |= oneIfNotZero(hIn) - hInIsNegative; // set pH[0] if hIn > 0\n    pV = mH | ~(xV | pH);\n    mV = pH & xV;\n    ctx.P[b] = pV;\n    ctx.M[b] = mV;\n    return hOut;\n}\n/**\n * Find the ends and error counts for matches of `pattern` in `text`.\n *\n * Only the matches with the lowest error count are reported. Other matches\n * with error counts <= maxErrors are discarded.\n *\n * This is the block-based search algorithm from Fig. 9 on p.410 of [1].\n */\nfunction findMatchEnds(text, pattern, maxErrors) {\n    if (pattern.length === 0) {\n        return [];\n    }\n    // Clamp error count so we can rely on the `maxErrors` and `pattern.length`\n    // rows being in the same block below.\n    maxErrors = Math.min(maxErrors, pattern.length);\n    var matches = [];\n    // Word size.\n    var w = 32;\n    // Index of maximum block level.\n    var bMax = Math.ceil(pattern.length / w) - 1;\n    // Context used across block calculations.\n    var ctx = {\n        P: new Uint32Array(bMax + 1),\n        M: new Uint32Array(bMax + 1),\n        lastRowMask: new Uint32Array(bMax + 1)\n    };\n    ctx.lastRowMask.fill(1 << 31);\n    ctx.lastRowMask[bMax] = 1 << (pattern.length - 1) % w;\n    // Dummy \"peq\" array for chars in the text which do not occur in the pattern.\n    var emptyPeq = new Uint32Array(bMax + 1);\n    // Map of UTF-16 character code to bit vector indicating positions in the\n    // pattern that equal that character.\n    var peq = new Map();\n    // Version of `peq` that only stores mappings for small characters. This\n    // allows faster lookups when iterating through the text because a simple\n    // array lookup can be done instead of a hash table lookup.\n    var asciiPeq = [];\n    for (var i = 0; i < 256; i++) {\n        asciiPeq.push(emptyPeq);\n    }\n    // Calculate `ctx.peq` - a map of character values to bitmasks indicating\n    // positions of that character within the pattern, where each bit represents\n    // a position in the pattern.\n    for (var c = 0; c < pattern.length; c += 1) {\n        var val = pattern.charCodeAt(c);\n        if (peq.has(val)) {\n            // Duplicate char in pattern.\n            continue;\n        }\n        var charPeq = new Uint32Array(bMax + 1);\n        peq.set(val, charPeq);\n        if (val < asciiPeq.length) {\n            asciiPeq[val] = charPeq;\n        }\n        for (var b = 0; b <= bMax; b += 1) {\n            charPeq[b] = 0;\n            // Set all the bits where the pattern matches the current char (ch).\n            // For indexes beyond the end of the pattern, always set the bit as if the\n            // pattern contained a wildcard char in that position.\n            for (var r = 0; r < w; r += 1) {\n                var idx = b * w + r;\n                if (idx >= pattern.length) {\n                    continue;\n                }\n                var match = pattern.charCodeAt(idx) === val;\n                if (match) {\n                    charPeq[b] |= 1 << r;\n                }\n            }\n        }\n    }\n    // Index of last-active block level in the column.\n    var y = Math.max(0, Math.ceil(maxErrors / w) - 1);\n    // Initialize maximum error count at bottom of each block.\n    var score = new Uint32Array(bMax + 1);\n    for (var b = 0; b <= y; b += 1) {\n        score[b] = (b + 1) * w;\n    }\n    score[bMax] = pattern.length;\n    // Initialize vertical deltas for each block.\n    for (var b = 0; b <= y; b += 1) {\n        ctx.P[b] = ~0;\n        ctx.M[b] = 0;\n    }\n    // Process each char of the text, computing the error count for `w` chars of\n    // the pattern at a time.\n    for (var j = 0; j < text.length; j += 1) {\n        // Lookup the bitmask representing the positions of the current char from\n        // the text within the pattern.\n        var charCode = text.charCodeAt(j);\n        var charPeq = void 0;\n        if (charCode < asciiPeq.length) {\n            // Fast array lookup.\n            charPeq = asciiPeq[charCode];\n        }\n        else {\n            // Slower hash table lookup.\n            charPeq = peq.get(charCode);\n            if (typeof charPeq === \"undefined\") {\n                charPeq = emptyPeq;\n            }\n        }\n        // Calculate error count for blocks that we definitely have to process for\n        // this column.\n        var carry = 0;\n        for (var b = 0; b <= y; b += 1) {\n            carry = advanceBlock(ctx, charPeq, b, carry);\n            score[b] += carry;\n        }\n        // Check if we also need to compute an additional block, or if we can reduce\n        // the number of blocks processed for the next column.\n        if (score[y] - carry <= maxErrors &&\n            y < bMax &&\n            (charPeq[y + 1] & 1 || carry < 0)) {\n            // Error count for bottom block is under threshold, increase the number of\n            // blocks processed for this column & next by 1.\n            y += 1;\n            ctx.P[y] = ~0;\n            ctx.M[y] = 0;\n            var maxBlockScore = y === bMax ? pattern.length % w : w;\n            score[y] =\n                score[y - 1] +\n                    maxBlockScore -\n                    carry +\n                    advanceBlock(ctx, charPeq, y, carry);\n        }\n        else {\n            // Error count for bottom block exceeds threshold, reduce the number of\n            // blocks processed for the next column.\n            while (y > 0 && score[y] >= maxErrors + w) {\n                y -= 1;\n            }\n        }\n        // If error count is under threshold, report a match.\n        if (y === bMax && score[y] <= maxErrors) {\n            if (score[y] < maxErrors) {\n                // Discard any earlier, worse matches.\n                matches.splice(0, matches.length);\n            }\n            matches.push({\n                start: -1,\n                end: j + 1,\n                errors: score[y]\n            });\n            // Because `search` only reports the matches with the lowest error count,\n            // we can \"ratchet down\" the max error threshold whenever a match is\n            // encountered and thereby save a small amount of work for the remainder\n            // of the text.\n            maxErrors = score[y];\n        }\n    }\n    return matches;\n}\n/**\n * Search for matches for `pattern` in `text` allowing up to `maxErrors` errors.\n *\n * Returns the start, and end positions and error counts for each lowest-cost\n * match. Only the \"best\" matches are returned.\n */\nfunction search(text, pattern, maxErrors) {\n    var matches = findMatchEnds(text, pattern, maxErrors);\n    return findMatchStarts(text, pattern, matches);\n}\nexports.default = search;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","'use strict';\n\nvar hasPropertyDescriptors = require('has-property-descriptors')();\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = hasPropertyDescriptors && GetIntrinsic('%Object.defineProperty%', true);\n\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar gopd = require('gopd');\n\n/** @type {(obj: Record<PropertyKey, unknown>, property: PropertyKey, value: unknown, nonEnumerable?: boolean | null, nonWritable?: boolean | null, nonConfigurable?: boolean | null, loose?: boolean) => void} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar defineDataProperty = require('define-data-property');\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar supportsDescriptors = require('has-property-descriptors')();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object) {\n\t\tif (predicate === true) {\n\t\t\tif (object[name] === value) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if (!isFunction(predicate) || !predicate()) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (supportsDescriptors) {\n\t\tdefineDataProperty(object, name, value, true);\n\t} else {\n\t\tdefineDataProperty(object, name, value);\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar has = require('has');\n\nvar toStringTag = hasToStringTag ? Symbol.toStringTag : null;\n\nmodule.exports = function setToStringTag(object, value) {\n\tvar overrideIfSet = arguments.length > 2 && arguments[2] && arguments[2].force;\n\tif (toStringTag && (overrideIfSet || !has(object, toStringTag))) {\n\t\tif ($defineProperty) {\n\t\t\t$defineProperty(object, toStringTag, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: value,\n\t\t\t\twritable: false\n\t\t\t});\n\t\t} else {\n\t\t\tobject[toStringTag] = value; // eslint-disable-line no-param-reassign\n\t\t}\n\t}\n};\n","'use strict';\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar isPrimitive = require('./helpers/isPrimitive');\nvar isCallable = require('is-callable');\nvar isDate = require('is-date-object');\nvar isSymbol = require('is-symbol');\n\nvar ordinaryToPrimitive = function OrdinaryToPrimitive(O, hint) {\n\tif (typeof O === 'undefined' || O === null) {\n\t\tthrow new TypeError('Cannot call method on ' + O);\n\t}\n\tif (typeof hint !== 'string' || (hint !== 'number' && hint !== 'string')) {\n\t\tthrow new TypeError('hint must be \"string\" or \"number\"');\n\t}\n\tvar methodNames = hint === 'string' ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\tvar method, result, i;\n\tfor (i = 0; i < methodNames.length; ++i) {\n\t\tmethod = O[methodNames[i]];\n\t\tif (isCallable(method)) {\n\t\t\tresult = method.call(O);\n\t\t\tif (isPrimitive(result)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\tthrow new TypeError('No default value');\n};\n\nvar GetMethod = function GetMethod(O, P) {\n\tvar func = O[P];\n\tif (func !== null && typeof func !== 'undefined') {\n\t\tif (!isCallable(func)) {\n\t\t\tthrow new TypeError(func + ' returned for property ' + P + ' of object ' + O + ' is not a function');\n\t\t}\n\t\treturn func;\n\t}\n\treturn void 0;\n};\n\n// http://www.ecma-international.org/ecma-262/6.0/#sec-toprimitive\nmodule.exports = function ToPrimitive(input) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tvar hint = 'default';\n\tif (arguments.length > 1) {\n\t\tif (arguments[1] === String) {\n\t\t\thint = 'string';\n\t\t} else if (arguments[1] === Number) {\n\t\t\thint = 'number';\n\t\t}\n\t}\n\n\tvar exoticToPrim;\n\tif (hasSymbols) {\n\t\tif (Symbol.toPrimitive) {\n\t\t\texoticToPrim = GetMethod(input, Symbol.toPrimitive);\n\t\t} else if (isSymbol(input)) {\n\t\t\texoticToPrim = Symbol.prototype.valueOf;\n\t\t}\n\t}\n\tif (typeof exoticToPrim !== 'undefined') {\n\t\tvar result = exoticToPrim.call(input, hint);\n\t\tif (isPrimitive(result)) {\n\t\t\treturn result;\n\t\t}\n\t\tthrow new TypeError('unable to convert exotic object to primitive');\n\t}\n\tif (hint === 'default' && (isDate(input) || isSymbol(input))) {\n\t\thint = 'string';\n\t}\n\treturn ordinaryToPrimitive(input, hint === 'default' ? 'number' : hint);\n};\n","'use strict';\n\nmodule.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar functionsHaveNames = function functionsHaveNames() {\n\treturn typeof function f() {}.name === 'string';\n};\n\nvar gOPD = Object.getOwnPropertyDescriptor;\nif (gOPD) {\n\ttry {\n\t\tgOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\tgOPD = null;\n\t}\n}\n\nfunctionsHaveNames.functionsHaveConfigurableNames = function functionsHaveConfigurableNames() {\n\tif (!functionsHaveNames() || !gOPD) {\n\t\treturn false;\n\t}\n\tvar desc = gOPD(function () {}, 'name');\n\treturn !!desc && !!desc.configurable;\n};\n\nvar $bind = Function.prototype.bind;\n\nfunctionsHaveNames.boundFunctionsHaveNames = function boundFunctionsHaveNames() {\n\treturn functionsHaveNames() && typeof $bind === 'function' && function f() {}.bind().name !== '';\n};\n\nmodule.exports = functionsHaveNames;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\tif ($defineProperty) {\n\t\ttry {\n\t\t\t$defineProperty({}, 'a', { value: 1 });\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\t// IE 8 has a broken defineProperty\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!hasPropertyDescriptors()) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar test = {\n\tfoo: {}\n};\n\nvar $Object = Object;\n\nmodule.exports = function hasProto() {\n\treturn { __proto__: test }.foo === test.foo && !({ __proto__: null } instanceof $Object);\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar hasOwnProperty = {}.hasOwnProperty;\nvar call = Function.prototype.call;\n\nmodule.exports = call.bind ? call.bind(hasOwnProperty) : function (O, P) {\n  return call.call(hasOwnProperty, O, P);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar has = require('has');\nvar channel = require('side-channel')();\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar SLOT = {\n\tassert: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tchannel.assert(O);\n\t\tif (!SLOT.has(O, slot)) {\n\t\t\tthrow new $TypeError('`' + slot + '` is not present on `O`');\n\t\t}\n\t},\n\tget: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\treturn slots && slots['$' + slot];\n\t},\n\thas: function (O, slot) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\treturn !!slots && has(slots, '$' + slot);\n\t},\n\tset: function (O, slot, V) {\n\t\tif (!O || (typeof O !== 'object' && typeof O !== 'function')) {\n\t\t\tthrow new $TypeError('`O` is not an object');\n\t\t}\n\t\tif (typeof slot !== 'string') {\n\t\t\tthrow new $TypeError('`slot` must be a string');\n\t\t}\n\t\tvar slots = channel.get(O);\n\t\tif (!slots) {\n\t\t\tslots = {};\n\t\t\tchannel.set(O, slots);\n\t\t}\n\t\tslots['$' + slot] = V;\n\t}\n};\n\nif (Object.freeze) {\n\tObject.freeze(SLOT);\n}\n\nmodule.exports = SLOT;\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\nvar reflectApply = typeof Reflect === 'object' && Reflect !== null && Reflect.apply;\nvar badArrayLike;\nvar isCallableMarker;\nif (typeof reflectApply === 'function' && typeof Object.defineProperty === 'function') {\n\ttry {\n\t\tbadArrayLike = Object.defineProperty({}, 'length', {\n\t\t\tget: function () {\n\t\t\t\tthrow isCallableMarker;\n\t\t\t}\n\t\t});\n\t\tisCallableMarker = {};\n\t\t// eslint-disable-next-line no-throw-literal\n\t\treflectApply(function () { throw 42; }, null, badArrayLike);\n\t} catch (_) {\n\t\tif (_ !== isCallableMarker) {\n\t\t\treflectApply = null;\n\t\t}\n\t}\n} else {\n\treflectApply = null;\n}\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar objectClass = '[object Object]';\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar ddaClass = '[object HTMLAllCollection]'; // IE 11\nvar ddaClass2 = '[object HTML document.all class]';\nvar ddaClass3 = '[object HTMLCollection]'; // IE 9-10\nvar hasToStringTag = typeof Symbol === 'function' && !!Symbol.toStringTag; // better: use `has-tostringtag`\n\nvar isIE68 = !(0 in [,]); // eslint-disable-line no-sparse-arrays, comma-spacing\n\nvar isDDA = function isDocumentDotAll() { return false; };\nif (typeof document === 'object') {\n\t// Firefox 3 canonicalizes DDA to undefined when it's not accessed directly\n\tvar all = document.all;\n\tif (toStr.call(all) === toStr.call(document.all)) {\n\t\tisDDA = function isDocumentDotAll(value) {\n\t\t\t/* globals document: false */\n\t\t\t// in IE 6-8, typeof document.all is \"object\" and it's truthy\n\t\t\tif ((isIE68 || !value) && (typeof value === 'undefined' || typeof value === 'object')) {\n\t\t\t\ttry {\n\t\t\t\t\tvar str = toStr.call(value);\n\t\t\t\t\treturn (\n\t\t\t\t\t\tstr === ddaClass\n\t\t\t\t\t\t|| str === ddaClass2\n\t\t\t\t\t\t|| str === ddaClass3 // opera 12.16\n\t\t\t\t\t\t|| str === objectClass // IE 6-8\n\t\t\t\t\t) && value('') == null; // eslint-disable-line eqeqeq\n\t\t\t\t} catch (e) { /**/ }\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n}\n\nmodule.exports = reflectApply\n\t? function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\ttry {\n\t\t\treflectApply(value, null, badArrayLike);\n\t\t} catch (e) {\n\t\t\tif (e !== isCallableMarker) { return false; }\n\t\t}\n\t\treturn !isES6ClassFn(value) && tryFunctionObject(value);\n\t}\n\t: function isCallable(value) {\n\t\tif (isDDA(value)) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\tif (hasToStringTag) { return tryFunctionObject(value); }\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tvar strClass = toStr.call(value);\n\t\tif (strClass !== fnClass && strClass !== genClass && !(/^\\[object HTML/).test(strClass)) { return false; }\n\t\treturn tryFunctionObject(value);\n\t};\n","'use strict';\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateGetDayCall(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar has;\nvar $exec;\nvar isRegexMarker;\nvar badStringifier;\n\nif (hasToStringTag) {\n\thas = callBound('Object.prototype.hasOwnProperty');\n\t$exec = callBound('RegExp.prototype.exec');\n\tisRegexMarker = {};\n\n\tvar throwRegexMarker = function () {\n\t\tthrow isRegexMarker;\n\t};\n\tbadStringifier = {\n\t\ttoString: throwRegexMarker,\n\t\tvalueOf: throwRegexMarker\n\t};\n\n\tif (typeof Symbol.toPrimitive === 'symbol') {\n\t\tbadStringifier[Symbol.toPrimitive] = throwRegexMarker;\n\t}\n}\n\nvar $toString = callBound('Object.prototype.toString');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar regexClass = '[object RegExp]';\n\nmodule.exports = hasToStringTag\n\t// eslint-disable-next-line consistent-return\n\t? function isRegex(value) {\n\t\tif (!value || typeof value !== 'object') {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar descriptor = gOPD(value, 'lastIndex');\n\t\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\t\tif (!hasLastIndexDataProperty) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t$exec(value, badStringifier);\n\t\t} catch (e) {\n\t\t\treturn e === isRegexMarker;\n\t\t}\n\t}\n\t: function isRegex(value) {\n\t\t// In older browsers, typeof regex incorrectly returns 'function'\n\t\tif (!value || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn $toString(value) === regexClass;\n\t};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = require('has-symbols')();\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isRealSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') {\n\t\t\treturn false;\n\t\t}\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') {\n\t\t\treturn true;\n\t\t}\n\t\tif (toStr.call(value) !== '[object Symbol]') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn false && value;\n\t};\n}\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar setFunctionName = require('set-function-name');\n\nvar $Object = Object;\nvar $TypeError = TypeError;\n\nmodule.exports = setFunctionName(function flags() {\n\tif (this != null && this !== $Object(this)) {\n\t\tthrow new $TypeError('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.hasIndices) {\n\t\tresult += 'd';\n\t}\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.unicodeSets) {\n\t\tresult += 'v';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n}, 'get flags', true);\n\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar flagsBound = callBind(getPolyfill());\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar $gOPD = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function getPolyfill() {\n\tif (supportsDescriptors && (/a/mig).flags === 'gim') {\n\t\tvar descriptor = $gOPD(RegExp.prototype, 'flags');\n\t\tif (\n\t\t\tdescriptor\n\t\t\t&& typeof descriptor.get === 'function'\n\t\t\t&& typeof RegExp.prototype.dotAll === 'boolean'\n\t\t\t&& typeof RegExp.prototype.hasIndices === 'boolean'\n\t\t) {\n\t\t\t/* eslint getter-return: 0 */\n\t\t\tvar calls = '';\n\t\t\tvar o = {};\n\t\t\tObject.defineProperty(o, 'hasIndices', {\n\t\t\t\tget: function () {\n\t\t\t\t\tcalls += 'd';\n\t\t\t\t}\n\t\t\t});\n\t\t\tObject.defineProperty(o, 'sticky', {\n\t\t\t\tget: function () {\n\t\t\t\t\tcalls += 'y';\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (calls === 'dy') {\n\t\t\t\treturn descriptor.get;\n\t\t\t}\n\t\t}\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar supportsDescriptors = require('define-properties').supportsDescriptors;\nvar getPolyfill = require('./polyfill');\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n","'use strict';\n\nvar callBound = require('call-bind/callBound');\nvar GetIntrinsic = require('get-intrinsic');\nvar isRegex = require('is-regex');\n\nvar $exec = callBound('RegExp.prototype.exec');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nmodule.exports = function regexTester(regex) {\n\tif (!isRegex(regex)) {\n\t\tthrow new $TypeError('`regex` must be a RegExp');\n\t}\n\treturn function test(s) {\n\t\treturn $exec(regex, s) !== null;\n\t};\n};\n","'use strict';\n\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar functionsHaveConfigurableNames = require('functions-have-names').functionsHaveConfigurableNames();\n\nvar $TypeError = TypeError;\n\nmodule.exports = function setFunctionName(fn, name) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\tif (!loose || functionsHaveConfigurableNames) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(fn, 'name', name, true, true);\n\t\t} else {\n\t\t\tdefine(fn, 'name', name);\n\t\t}\n\t}\n\treturn fn;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\n\nvar Call = require('es-abstract/2023/Call');\nvar Get = require('es-abstract/2023/Get');\nvar GetMethod = require('es-abstract/2023/GetMethod');\nvar IsRegExp = require('es-abstract/2023/IsRegExp');\nvar ToString = require('es-abstract/2023/ToString');\nvar RequireObjectCoercible = require('es-abstract/2023/RequireObjectCoercible');\nvar callBound = require('call-bind/callBound');\nvar hasSymbols = require('has-symbols')();\nvar flagsGetter = require('regexp.prototype.flags');\n\nvar $indexOf = callBound('String.prototype.indexOf');\n\nvar regexpMatchAllPolyfill = require('./polyfill-regexp-matchall');\n\nvar getMatcher = function getMatcher(regexp) { // eslint-disable-line consistent-return\n\tvar matcherPolyfill = regexpMatchAllPolyfill();\n\tif (hasSymbols && typeof Symbol.matchAll === 'symbol') {\n\t\tvar matcher = GetMethod(regexp, Symbol.matchAll);\n\t\tif (matcher === RegExp.prototype[Symbol.matchAll] && matcher !== matcherPolyfill) {\n\t\t\treturn matcherPolyfill;\n\t\t}\n\t\treturn matcher;\n\t}\n\t// fallback for pre-Symbol.matchAll environments\n\tif (IsRegExp(regexp)) {\n\t\treturn matcherPolyfill;\n\t}\n};\n\nmodule.exports = function matchAll(regexp) {\n\tvar O = RequireObjectCoercible(this);\n\n\tif (typeof regexp !== 'undefined' && regexp !== null) {\n\t\tvar isRegExp = IsRegExp(regexp);\n\t\tif (isRegExp) {\n\t\t\t// workaround for older engines that lack RegExp.prototype.flags\n\t\t\tvar flags = 'flags' in regexp ? Get(regexp, 'flags') : flagsGetter(regexp);\n\t\t\tRequireObjectCoercible(flags);\n\t\t\tif ($indexOf(ToString(flags), 'g') < 0) {\n\t\t\t\tthrow new TypeError('matchAll requires a global regular expression');\n\t\t\t}\n\t\t}\n\n\t\tvar matcher = getMatcher(regexp);\n\t\tif (typeof matcher !== 'undefined') {\n\t\t\treturn Call(matcher, regexp, [O]);\n\t\t}\n\t}\n\n\tvar S = ToString(O);\n\t// var rx = RegExpCreate(regexp, 'g');\n\tvar rx = new RegExp(regexp, 'g');\n\treturn Call(getMatcher(rx), rx, [S]);\n};\n","'use strict';\n\nvar callBind = require('call-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar boundMatchAll = callBind(implementation);\n\ndefine(boundMatchAll, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = boundMatchAll;\n","'use strict';\n\nvar hasSymbols = require('has-symbols')();\nvar regexpMatchAll = require('./regexp-matchall');\n\nmodule.exports = function getRegExpMatchAllPolyfill() {\n\tif (!hasSymbols || typeof Symbol.matchAll !== 'symbol' || typeof RegExp.prototype[Symbol.matchAll] !== 'function') {\n\t\treturn regexpMatchAll;\n\t}\n\treturn RegExp.prototype[Symbol.matchAll];\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\tif (String.prototype.matchAll) {\n\t\ttry {\n\t\t\t''.matchAll(RegExp.prototype);\n\t\t} catch (e) {\n\t\t\treturn String.prototype.matchAll;\n\t\t}\n\t}\n\treturn implementation;\n};\n","'use strict';\n\n// var Construct = require('es-abstract/2023/Construct');\nvar CreateRegExpStringIterator = require('es-abstract/2023/CreateRegExpStringIterator');\nvar Get = require('es-abstract/2023/Get');\nvar Set = require('es-abstract/2023/Set');\nvar SpeciesConstructor = require('es-abstract/2023/SpeciesConstructor');\nvar ToLength = require('es-abstract/2023/ToLength');\nvar ToString = require('es-abstract/2023/ToString');\nvar Type = require('es-abstract/2023/Type');\nvar flagsGetter = require('regexp.prototype.flags');\nvar setFunctionName = require('set-function-name');\nvar callBound = require('call-bind/callBound');\n\nvar $indexOf = callBound('String.prototype.indexOf');\n\nvar OrigRegExp = RegExp;\n\nvar supportsConstructingWithFlags = 'flags' in RegExp.prototype;\n\nvar constructRegexWithFlags = function constructRegex(C, R) {\n\tvar matcher;\n\t// workaround for older engines that lack RegExp.prototype.flags\n\tvar flags = 'flags' in R ? Get(R, 'flags') : ToString(flagsGetter(R));\n\tif (supportsConstructingWithFlags && typeof flags === 'string') {\n\t\tmatcher = new C(R, flags);\n\t} else if (C === OrigRegExp) {\n\t\t// workaround for older engines that can not construct a RegExp with flags\n\t\tmatcher = new C(R.source, flags);\n\t} else {\n\t\tmatcher = new C(R, flags);\n\t}\n\treturn { flags: flags, matcher: matcher };\n};\n\nvar regexMatchAll = setFunctionName(function SymbolMatchAll(string) {\n\tvar R = this;\n\tif (Type(R) !== 'Object') {\n\t\tthrow new TypeError('\"this\" value must be an Object');\n\t}\n\tvar S = ToString(string);\n\tvar C = SpeciesConstructor(R, OrigRegExp);\n\n\tvar tmp = constructRegexWithFlags(C, R);\n\t// var flags = ToString(Get(R, 'flags'));\n\tvar flags = tmp.flags;\n\t// var matcher = Construct(C, [R, flags]);\n\tvar matcher = tmp.matcher;\n\n\tvar lastIndex = ToLength(Get(R, 'lastIndex'));\n\tSet(matcher, 'lastIndex', lastIndex, true);\n\tvar global = $indexOf(flags, 'g') > -1;\n\tvar fullUnicode = $indexOf(flags, 'u') > -1;\n\treturn CreateRegExpStringIterator(matcher, S, global, fullUnicode);\n}, '[Symbol.matchAll]', true);\n\nmodule.exports = regexMatchAll;\n","'use strict';\n\nvar define = require('define-properties');\nvar hasSymbols = require('has-symbols')();\nvar getPolyfill = require('./polyfill');\nvar regexpMatchAllPolyfill = require('./polyfill-regexp-matchall');\n\nvar defineP = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nmodule.exports = function shimMatchAll() {\n\tvar polyfill = getPolyfill();\n\tdefine(\n\t\tString.prototype,\n\t\t{ matchAll: polyfill },\n\t\t{ matchAll: function () { return String.prototype.matchAll !== polyfill; } }\n\t);\n\tif (hasSymbols) {\n\t\t// eslint-disable-next-line no-restricted-properties\n\t\tvar symbol = Symbol.matchAll || (Symbol['for'] ? Symbol['for']('Symbol.matchAll') : Symbol('Symbol.matchAll'));\n\t\tdefine(\n\t\t\tSymbol,\n\t\t\t{ matchAll: symbol },\n\t\t\t{ matchAll: function () { return Symbol.matchAll !== symbol; } }\n\t\t);\n\n\t\tif (defineP && gOPD) {\n\t\t\tvar desc = gOPD(Symbol, symbol);\n\t\t\tif (!desc || desc.configurable) {\n\t\t\t\tdefineP(Symbol, symbol, {\n\t\t\t\t\tconfigurable: false,\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tvalue: symbol,\n\t\t\t\t\twritable: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar regexpMatchAll = regexpMatchAllPolyfill();\n\t\tvar func = {};\n\t\tfunc[symbol] = regexpMatchAll;\n\t\tvar predicate = {};\n\t\tpredicate[symbol] = function () {\n\t\t\treturn RegExp.prototype[symbol] !== regexpMatchAll;\n\t\t};\n\t\tdefine(RegExp.prototype, func, predicate);\n\t}\n\treturn polyfill;\n};\n","'use strict';\n\nvar RequireObjectCoercible = require('es-abstract/2023/RequireObjectCoercible');\nvar ToString = require('es-abstract/2023/ToString');\nvar callBound = require('call-bind/callBound');\nvar $replace = callBound('String.prototype.replace');\n\nvar mvsIsWS = (/^\\s$/).test('\\u180E');\n/* eslint-disable no-control-regex */\nvar leftWhitespace = mvsIsWS\n\t? /^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+/\n\t: /^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+/;\nvar rightWhitespace = mvsIsWS\n\t? /[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+$/\n\t: /[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+$/;\n/* eslint-enable no-control-regex */\n\nmodule.exports = function trim() {\n\tvar S = ToString(RequireObjectCoercible(this));\n\treturn $replace($replace(S, leftWhitespace, ''), rightWhitespace, '');\n};\n","'use strict';\n\nvar callBind = require('call-bind');\nvar define = require('define-properties');\nvar RequireObjectCoercible = require('es-abstract/2023/RequireObjectCoercible');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar bound = callBind(getPolyfill());\nvar boundMethod = function trim(receiver) {\n\tRequireObjectCoercible(receiver);\n\treturn bound(receiver);\n};\n\ndefine(boundMethod, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = boundMethod;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar zeroWidthSpace = '\\u200b';\nvar mongolianVowelSeparator = '\\u180E';\n\nmodule.exports = function getPolyfill() {\n\tif (\n\t\tString.prototype.trim\n\t\t&& zeroWidthSpace.trim() === zeroWidthSpace\n\t\t&& mongolianVowelSeparator.trim() === mongolianVowelSeparator\n\t\t&& ('_' + mongolianVowelSeparator).trim() === ('_' + mongolianVowelSeparator)\n\t\t&& (mongolianVowelSeparator + '_').trim() === (mongolianVowelSeparator + '_')\n\t) {\n\t\treturn String.prototype.trim;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimStringTrim() {\n\tvar polyfill = getPolyfill();\n\tdefine(String.prototype, { trim: polyfill }, {\n\t\ttrim: function testTrim() {\n\t\t\treturn String.prototype.trim !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar CodePointAt = require('./CodePointAt');\nvar Type = require('./Type');\n\nvar isInteger = require('../helpers/isInteger');\nvar MAX_SAFE_INTEGER = require('../helpers/maxSafeInteger');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\n// https://262.ecma-international.org/12.0/#sec-advancestringindex\n\nmodule.exports = function AdvanceStringIndex(S, index, unicode) {\n\tif (Type(S) !== 'String') {\n\t\tthrow new $TypeError('Assertion failed: `S` must be a String');\n\t}\n\tif (!isInteger(index) || index < 0 || index > MAX_SAFE_INTEGER) {\n\t\tthrow new $TypeError('Assertion failed: `length` must be an integer >= 0 and <= 2**53');\n\t}\n\tif (Type(unicode) !== 'Boolean') {\n\t\tthrow new $TypeError('Assertion failed: `unicode` must be a Boolean');\n\t}\n\tif (!unicode) {\n\t\treturn index + 1;\n\t}\n\tvar length = S.length;\n\tif ((index + 1) >= length) {\n\t\treturn index + 1;\n\t}\n\tvar cp = CodePointAt(S, index);\n\treturn index + cp['[[CodeUnitCount]]'];\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar IsArray = require('./IsArray');\n\nvar $apply = GetIntrinsic('%Reflect.apply%', true) || callBound('Function.prototype.apply');\n\n// https://262.ecma-international.org/6.0/#sec-call\n\nmodule.exports = function Call(F, V) {\n\tvar argumentsList = arguments.length > 2 ? arguments[2] : [];\n\tif (!IsArray(argumentsList)) {\n\t\tthrow new $TypeError('Assertion failed: optional `argumentsList`, if provided, must be a List');\n\t}\n\treturn $apply(F, V, argumentsList);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar callBound = require('call-bind/callBound');\nvar isLeadingSurrogate = require('../helpers/isLeadingSurrogate');\nvar isTrailingSurrogate = require('../helpers/isTrailingSurrogate');\n\nvar Type = require('./Type');\nvar UTF16SurrogatePairToCodePoint = require('./UTF16SurrogatePairToCodePoint');\n\nvar $charAt = callBound('String.prototype.charAt');\nvar $charCodeAt = callBound('String.prototype.charCodeAt');\n\n// https://262.ecma-international.org/12.0/#sec-codepointat\n\nmodule.exports = function CodePointAt(string, position) {\n\tif (Type(string) !== 'String') {\n\t\tthrow new $TypeError('Assertion failed: `string` must be a String');\n\t}\n\tvar size = string.length;\n\tif (position < 0 || position >= size) {\n\t\tthrow new $TypeError('Assertion failed: `position` must be >= 0, and < the length of `string`');\n\t}\n\tvar first = $charCodeAt(string, position);\n\tvar cp = $charAt(string, position);\n\tvar firstIsLeading = isLeadingSurrogate(first);\n\tvar firstIsTrailing = isTrailingSurrogate(first);\n\tif (!firstIsLeading && !firstIsTrailing) {\n\t\treturn {\n\t\t\t'[[CodePoint]]': cp,\n\t\t\t'[[CodeUnitCount]]': 1,\n\t\t\t'[[IsUnpairedSurrogate]]': false\n\t\t};\n\t}\n\tif (firstIsTrailing || (position + 1 === size)) {\n\t\treturn {\n\t\t\t'[[CodePoint]]': cp,\n\t\t\t'[[CodeUnitCount]]': 1,\n\t\t\t'[[IsUnpairedSurrogate]]': true\n\t\t};\n\t}\n\tvar second = $charCodeAt(string, position + 1);\n\tif (!isTrailingSurrogate(second)) {\n\t\treturn {\n\t\t\t'[[CodePoint]]': cp,\n\t\t\t'[[CodeUnitCount]]': 1,\n\t\t\t'[[IsUnpairedSurrogate]]': true\n\t\t};\n\t}\n\n\treturn {\n\t\t'[[CodePoint]]': UTF16SurrogatePairToCodePoint(first, second),\n\t\t'[[CodeUnitCount]]': 2,\n\t\t'[[IsUnpairedSurrogate]]': false\n\t};\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar Type = require('./Type');\n\n// https://262.ecma-international.org/6.0/#sec-createiterresultobject\n\nmodule.exports = function CreateIterResultObject(value, done) {\n\tif (Type(done) !== 'Boolean') {\n\t\tthrow new $TypeError('Assertion failed: Type(done) is not Boolean');\n\t}\n\treturn {\n\t\tvalue: value,\n\t\tdone: done\n\t};\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar DefineOwnProperty = require('../helpers/DefineOwnProperty');\n\nvar FromPropertyDescriptor = require('./FromPropertyDescriptor');\nvar IsDataDescriptor = require('./IsDataDescriptor');\nvar IsPropertyKey = require('./IsPropertyKey');\nvar SameValue = require('./SameValue');\nvar Type = require('./Type');\n\n// https://262.ecma-international.org/6.0/#sec-createmethodproperty\n\nmodule.exports = function CreateMethodProperty(O, P, V) {\n\tif (Type(O) !== 'Object') {\n\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t}\n\n\tif (!IsPropertyKey(P)) {\n\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t}\n\n\tvar newDesc = {\n\t\t'[[Configurable]]': true,\n\t\t'[[Enumerable]]': false,\n\t\t'[[Value]]': V,\n\t\t'[[Writable]]': true\n\t};\n\treturn DefineOwnProperty(\n\t\tIsDataDescriptor,\n\t\tSameValue,\n\t\tFromPropertyDescriptor,\n\t\tO,\n\t\tP,\n\t\tnewDesc\n\t);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar hasSymbols = require('has-symbols')();\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar IteratorPrototype = GetIntrinsic('%IteratorPrototype%', true);\n\nvar AdvanceStringIndex = require('./AdvanceStringIndex');\nvar CreateIterResultObject = require('./CreateIterResultObject');\nvar CreateMethodProperty = require('./CreateMethodProperty');\nvar Get = require('./Get');\nvar OrdinaryObjectCreate = require('./OrdinaryObjectCreate');\nvar RegExpExec = require('./RegExpExec');\nvar Set = require('./Set');\nvar ToLength = require('./ToLength');\nvar ToString = require('./ToString');\nvar Type = require('./Type');\n\nvar SLOT = require('internal-slot');\nvar setToStringTag = require('es-set-tostringtag');\n\nvar RegExpStringIterator = function RegExpStringIterator(R, S, global, fullUnicode) {\n\tif (Type(S) !== 'String') {\n\t\tthrow new $TypeError('`S` must be a string');\n\t}\n\tif (Type(global) !== 'Boolean') {\n\t\tthrow new $TypeError('`global` must be a boolean');\n\t}\n\tif (Type(fullUnicode) !== 'Boolean') {\n\t\tthrow new $TypeError('`fullUnicode` must be a boolean');\n\t}\n\tSLOT.set(this, '[[IteratingRegExp]]', R);\n\tSLOT.set(this, '[[IteratedString]]', S);\n\tSLOT.set(this, '[[Global]]', global);\n\tSLOT.set(this, '[[Unicode]]', fullUnicode);\n\tSLOT.set(this, '[[Done]]', false);\n};\n\nif (IteratorPrototype) {\n\tRegExpStringIterator.prototype = OrdinaryObjectCreate(IteratorPrototype);\n}\n\nvar RegExpStringIteratorNext = function next() {\n\tvar O = this; // eslint-disable-line no-invalid-this\n\tif (Type(O) !== 'Object') {\n\t\tthrow new $TypeError('receiver must be an object');\n\t}\n\tif (\n\t\t!(O instanceof RegExpStringIterator)\n\t\t|| !SLOT.has(O, '[[IteratingRegExp]]')\n\t\t|| !SLOT.has(O, '[[IteratedString]]')\n\t\t|| !SLOT.has(O, '[[Global]]')\n\t\t|| !SLOT.has(O, '[[Unicode]]')\n\t\t|| !SLOT.has(O, '[[Done]]')\n\t) {\n\t\tthrow new $TypeError('\"this\" value must be a RegExpStringIterator instance');\n\t}\n\tif (SLOT.get(O, '[[Done]]')) {\n\t\treturn CreateIterResultObject(undefined, true);\n\t}\n\tvar R = SLOT.get(O, '[[IteratingRegExp]]');\n\tvar S = SLOT.get(O, '[[IteratedString]]');\n\tvar global = SLOT.get(O, '[[Global]]');\n\tvar fullUnicode = SLOT.get(O, '[[Unicode]]');\n\tvar match = RegExpExec(R, S);\n\tif (match === null) {\n\t\tSLOT.set(O, '[[Done]]', true);\n\t\treturn CreateIterResultObject(undefined, true);\n\t}\n\tif (global) {\n\t\tvar matchStr = ToString(Get(match, '0'));\n\t\tif (matchStr === '') {\n\t\t\tvar thisIndex = ToLength(Get(R, 'lastIndex'));\n\t\t\tvar nextIndex = AdvanceStringIndex(S, thisIndex, fullUnicode);\n\t\t\tSet(R, 'lastIndex', nextIndex, true);\n\t\t}\n\t\treturn CreateIterResultObject(match, false);\n\t}\n\tSLOT.set(O, '[[Done]]', true);\n\treturn CreateIterResultObject(match, false);\n};\nCreateMethodProperty(RegExpStringIterator.prototype, 'next', RegExpStringIteratorNext);\n\nif (hasSymbols) {\n\tsetToStringTag(RegExpStringIterator.prototype, 'RegExp String Iterator');\n\n\tif (Symbol.iterator && typeof RegExpStringIterator.prototype[Symbol.iterator] !== 'function') {\n\t\tvar iteratorFn = function SymbolIterator() {\n\t\t\treturn this;\n\t\t};\n\t\tCreateMethodProperty(RegExpStringIterator.prototype, Symbol.iterator, iteratorFn);\n\t}\n}\n\n// https://262.ecma-international.org/11.0/#sec-createregexpstringiterator\nmodule.exports = function CreateRegExpStringIterator(R, S, global, fullUnicode) {\n\t// assert R.global === global && R.unicode === fullUnicode?\n\treturn new RegExpStringIterator(R, S, global, fullUnicode);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar isPropertyDescriptor = require('../helpers/isPropertyDescriptor');\nvar DefineOwnProperty = require('../helpers/DefineOwnProperty');\n\nvar FromPropertyDescriptor = require('./FromPropertyDescriptor');\nvar IsAccessorDescriptor = require('./IsAccessorDescriptor');\nvar IsDataDescriptor = require('./IsDataDescriptor');\nvar IsPropertyKey = require('./IsPropertyKey');\nvar SameValue = require('./SameValue');\nvar ToPropertyDescriptor = require('./ToPropertyDescriptor');\nvar Type = require('./Type');\n\n// https://262.ecma-international.org/6.0/#sec-definepropertyorthrow\n\nmodule.exports = function DefinePropertyOrThrow(O, P, desc) {\n\tif (Type(O) !== 'Object') {\n\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t}\n\n\tif (!IsPropertyKey(P)) {\n\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t}\n\n\tvar Desc = isPropertyDescriptor({\n\t\tType: Type,\n\t\tIsDataDescriptor: IsDataDescriptor,\n\t\tIsAccessorDescriptor: IsAccessorDescriptor\n\t}, desc) ? desc : ToPropertyDescriptor(desc);\n\tif (!isPropertyDescriptor({\n\t\tType: Type,\n\t\tIsDataDescriptor: IsDataDescriptor,\n\t\tIsAccessorDescriptor: IsAccessorDescriptor\n\t}, Desc)) {\n\t\tthrow new $TypeError('Assertion failed: Desc is not a valid Property Descriptor');\n\t}\n\n\treturn DefineOwnProperty(\n\t\tIsDataDescriptor,\n\t\tSameValue,\n\t\tFromPropertyDescriptor,\n\t\tO,\n\t\tP,\n\t\tDesc\n\t);\n};\n","'use strict';\n\nvar assertRecord = require('../helpers/assertRecord');\nvar fromPropertyDescriptor = require('../helpers/fromPropertyDescriptor');\n\nvar Type = require('./Type');\n\n// https://262.ecma-international.org/6.0/#sec-frompropertydescriptor\n\nmodule.exports = function FromPropertyDescriptor(Desc) {\n\tif (typeof Desc !== 'undefined') {\n\t\tassertRecord(Type, 'Property Descriptor', 'Desc', Desc);\n\t}\n\n\treturn fromPropertyDescriptor(Desc);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar inspect = require('object-inspect');\n\nvar IsPropertyKey = require('./IsPropertyKey');\nvar Type = require('./Type');\n\n// https://262.ecma-international.org/6.0/#sec-get-o-p\n\nmodule.exports = function Get(O, P) {\n\t// 7.3.1.1\n\tif (Type(O) !== 'Object') {\n\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t}\n\t// 7.3.1.2\n\tif (!IsPropertyKey(P)) {\n\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true, got ' + inspect(P));\n\t}\n\t// 7.3.1.3\n\treturn O[P];\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar GetV = require('./GetV');\nvar IsCallable = require('./IsCallable');\nvar IsPropertyKey = require('./IsPropertyKey');\n\nvar inspect = require('object-inspect');\n\n// https://262.ecma-international.org/6.0/#sec-getmethod\n\nmodule.exports = function GetMethod(O, P) {\n\t// 7.3.9.1\n\tif (!IsPropertyKey(P)) {\n\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true');\n\t}\n\n\t// 7.3.9.2\n\tvar func = GetV(O, P);\n\n\t// 7.3.9.4\n\tif (func == null) {\n\t\treturn void 0;\n\t}\n\n\t// 7.3.9.5\n\tif (!IsCallable(func)) {\n\t\tthrow new $TypeError(inspect(P) + ' is not a function: ' + inspect(func));\n\t}\n\n\t// 7.3.9.6\n\treturn func;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar inspect = require('object-inspect');\n\nvar IsPropertyKey = require('./IsPropertyKey');\n// var ToObject = require('./ToObject');\n\n// https://262.ecma-international.org/6.0/#sec-getv\n\nmodule.exports = function GetV(V, P) {\n\t// 7.3.2.1\n\tif (!IsPropertyKey(P)) {\n\t\tthrow new $TypeError('Assertion failed: IsPropertyKey(P) is not true, got ' + inspect(P));\n\t}\n\n\t// 7.3.2.2-3\n\t// var O = ToObject(V);\n\n\t// 7.3.2.4\n\treturn V[P];\n};\n","'use strict';\n\nvar has = require('has');\n\nvar Type = require('./Type');\n\nvar assertRecord = require('../helpers/assertRecord');\n\n// https://262.ecma-international.org/5.1/#sec-8.10.1\n\nmodule.exports = function IsAccessorDescriptor(Desc) {\n\tif (typeof Desc === 'undefined') {\n\t\treturn false;\n\t}\n\n\tassertRecord(Type, 'Property Descriptor', 'Desc', Desc);\n\n\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n","'use strict';\n\n// https://262.ecma-international.org/6.0/#sec-isarray\nmodule.exports = require('../helpers/IsArray');\n","'use strict';\n\n// http://262.ecma-international.org/5.1/#sec-9.11\n\nmodule.exports = require('is-callable');\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic.js');\n\nvar $construct = GetIntrinsic('%Reflect.construct%', true);\n\nvar DefinePropertyOrThrow = require('./DefinePropertyOrThrow');\ntry {\n\tDefinePropertyOrThrow({}, '', { '[[Get]]': function () {} });\n} catch (e) {\n\t// Accessor properties aren't supported\n\tDefinePropertyOrThrow = null;\n}\n\n// https://262.ecma-international.org/6.0/#sec-isconstructor\n\nif (DefinePropertyOrThrow && $construct) {\n\tvar isConstructorMarker = {};\n\tvar badArrayLike = {};\n\tDefinePropertyOrThrow(badArrayLike, 'length', {\n\t\t'[[Get]]': function () {\n\t\t\tthrow isConstructorMarker;\n\t\t},\n\t\t'[[Enumerable]]': true\n\t});\n\n\tmodule.exports = function IsConstructor(argument) {\n\t\ttry {\n\t\t\t// `Reflect.construct` invokes `IsConstructor(target)` before `Get(args, 'length')`:\n\t\t\t$construct(argument, badArrayLike);\n\t\t} catch (err) {\n\t\t\treturn err === isConstructorMarker;\n\t\t}\n\t};\n} else {\n\tmodule.exports = function IsConstructor(argument) {\n\t\t// unfortunately there's no way to truly check this without try/catch `new argument` in old environments\n\t\treturn typeof argument === 'function' && !!argument.prototype;\n\t};\n}\n","'use strict';\n\nvar has = require('has');\n\nvar Type = require('./Type');\n\nvar assertRecord = require('../helpers/assertRecord');\n\n// https://262.ecma-international.org/5.1/#sec-8.10.2\n\nmodule.exports = function IsDataDescriptor(Desc) {\n\tif (typeof Desc === 'undefined') {\n\t\treturn false;\n\t}\n\n\tassertRecord(Type, 'Property Descriptor', 'Desc', Desc);\n\n\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n","'use strict';\n\n// https://262.ecma-international.org/6.0/#sec-ispropertykey\n\nmodule.exports = function IsPropertyKey(argument) {\n\treturn typeof argument === 'string' || typeof argument === 'symbol';\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $match = GetIntrinsic('%Symbol.match%', true);\n\nvar hasRegExpMatcher = require('is-regex');\n\nvar ToBoolean = require('./ToBoolean');\n\n// https://262.ecma-international.org/6.0/#sec-isregexp\n\nmodule.exports = function IsRegExp(argument) {\n\tif (!argument || typeof argument !== 'object') {\n\t\treturn false;\n\t}\n\tif ($match) {\n\t\tvar isRegExp = argument[$match];\n\t\tif (typeof isRegExp !== 'undefined') {\n\t\t\treturn ToBoolean(isRegExp);\n\t\t}\n\t}\n\treturn hasRegExpMatcher(argument);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $ObjectCreate = GetIntrinsic('%Object.create%', true);\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar IsArray = require('./IsArray');\nvar Type = require('./Type');\n\nvar forEach = require('../helpers/forEach');\n\nvar SLOT = require('internal-slot');\n\nvar hasProto = require('has-proto')();\n\n// https://262.ecma-international.org/11.0/#sec-objectcreate\n\nmodule.exports = function OrdinaryObjectCreate(proto) {\n\tif (proto !== null && Type(proto) !== 'Object') {\n\t\tthrow new $TypeError('Assertion failed: `proto` must be null or an object');\n\t}\n\tvar additionalInternalSlotsList = arguments.length < 2 ? [] : arguments[1];\n\tif (!IsArray(additionalInternalSlotsList)) {\n\t\tthrow new $TypeError('Assertion failed: `additionalInternalSlotsList` must be an Array');\n\t}\n\n\t// var internalSlotsList = ['[[Prototype]]', '[[Extensible]]']; // step 1\n\t// internalSlotsList.push(...additionalInternalSlotsList); // step 2\n\t// var O = MakeBasicObject(internalSlotsList); // step 3\n\t// setProto(O, proto); // step 4\n\t// return O; // step 5\n\n\tvar O;\n\tif ($ObjectCreate) {\n\t\tO = $ObjectCreate(proto);\n\t} else if (hasProto) {\n\t\tO = { __proto__: proto };\n\t} else {\n\t\tif (proto === null) {\n\t\t\tthrow new $SyntaxError('native Object.create support is required to create null objects');\n\t\t}\n\t\tvar T = function T() {};\n\t\tT.prototype = proto;\n\t\tO = new T();\n\t}\n\n\tif (additionalInternalSlotsList.length > 0) {\n\t\tforEach(additionalInternalSlotsList, function (slot) {\n\t\t\tSLOT.set(O, slot, void undefined);\n\t\t});\n\t}\n\n\treturn O;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar regexExec = require('call-bind/callBound')('RegExp.prototype.exec');\n\nvar Call = require('./Call');\nvar Get = require('./Get');\nvar IsCallable = require('./IsCallable');\nvar Type = require('./Type');\n\n// https://262.ecma-international.org/6.0/#sec-regexpexec\n\nmodule.exports = function RegExpExec(R, S) {\n\tif (Type(R) !== 'Object') {\n\t\tthrow new $TypeError('Assertion failed: `R` must be an Object');\n\t}\n\tif (Type(S) !== 'String') {\n\t\tthrow new $TypeError('Assertion failed: `S` must be a String');\n\t}\n\tvar exec = Get(R, 'exec');\n\tif (IsCallable(exec)) {\n\t\tvar result = Call(exec, R, [S]);\n\t\tif (result === null || Type(result) === 'Object') {\n\t\t\treturn result;\n\t\t}\n\t\tthrow new $TypeError('\"exec\" method must return `null` or an Object');\n\t}\n\treturn regexExec(R, S);\n};\n","'use strict';\n\nmodule.exports = require('../5/CheckObjectCoercible');\n","'use strict';\n\nvar $isNaN = require('../helpers/isNaN');\n\n// http://262.ecma-international.org/5.1/#sec-9.12\n\nmodule.exports = function SameValue(x, y) {\n\tif (x === y) { // 0 === -0, but they are not identical.\n\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\treturn true;\n\t}\n\treturn $isNaN(x) && $isNaN(y);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar IsPropertyKey = require('./IsPropertyKey');\nvar SameValue = require('./SameValue');\nvar Type = require('./Type');\n\n// IE 9 does not throw in strict mode when writability/configurability/extensibility is violated\nvar noThrowOnStrictViolation = (function () {\n\ttry {\n\t\tdelete [].length;\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n}());\n\n// https://262.ecma-international.org/6.0/#sec-set-o-p-v-throw\n\nmodule.exports = function Set(O, P, V, Throw) {\n\tif (Type(O) !== 'Object') {\n\t\tthrow new $TypeError('Assertion failed: `O` must be an Object');\n\t}\n\tif (!IsPropertyKey(P)) {\n\t\tthrow new $TypeError('Assertion failed: `P` must be a Property Key');\n\t}\n\tif (Type(Throw) !== 'Boolean') {\n\t\tthrow new $TypeError('Assertion failed: `Throw` must be a Boolean');\n\t}\n\tif (Throw) {\n\t\tO[P] = V; // eslint-disable-line no-param-reassign\n\t\tif (noThrowOnStrictViolation && !SameValue(O[P], V)) {\n\t\t\tthrow new $TypeError('Attempted to assign to readonly property.');\n\t\t}\n\t\treturn true;\n\t}\n\ttry {\n\t\tO[P] = V; // eslint-disable-line no-param-reassign\n\t\treturn noThrowOnStrictViolation ? SameValue(O[P], V) : true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $species = GetIntrinsic('%Symbol.species%', true);\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar IsConstructor = require('./IsConstructor');\nvar Type = require('./Type');\n\n// https://262.ecma-international.org/6.0/#sec-speciesconstructor\n\nmodule.exports = function SpeciesConstructor(O, defaultConstructor) {\n\tif (Type(O) !== 'Object') {\n\t\tthrow new $TypeError('Assertion failed: Type(O) is not Object');\n\t}\n\tvar C = O.constructor;\n\tif (typeof C === 'undefined') {\n\t\treturn defaultConstructor;\n\t}\n\tif (Type(C) !== 'Object') {\n\t\tthrow new $TypeError('O.constructor is not an Object');\n\t}\n\tvar S = $species ? C[$species] : void 0;\n\tif (S == null) {\n\t\treturn defaultConstructor;\n\t}\n\tif (IsConstructor(S)) {\n\t\treturn S;\n\t}\n\tthrow new $TypeError('no constructor found');\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $Number = GetIntrinsic('%Number%');\nvar $RegExp = GetIntrinsic('%RegExp%');\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $parseInteger = GetIntrinsic('%parseInt%');\n\nvar callBound = require('call-bind/callBound');\nvar regexTester = require('safe-regex-test');\n\nvar $strSlice = callBound('String.prototype.slice');\nvar isBinary = regexTester(/^0b[01]+$/i);\nvar isOctal = regexTester(/^0o[0-7]+$/i);\nvar isInvalidHexLiteral = regexTester(/^[-+]0x[0-9a-f]+$/i);\nvar nonWS = ['\\u0085', '\\u200b', '\\ufffe'].join('');\nvar nonWSregex = new $RegExp('[' + nonWS + ']', 'g');\nvar hasNonWS = regexTester(nonWSregex);\n\nvar $trim = require('string.prototype.trim');\n\nvar Type = require('./Type');\n\n// https://262.ecma-international.org/13.0/#sec-stringtonumber\n\nmodule.exports = function StringToNumber(argument) {\n\tif (Type(argument) !== 'String') {\n\t\tthrow new $TypeError('Assertion failed: `argument` is not a String');\n\t}\n\tif (isBinary(argument)) {\n\t\treturn $Number($parseInteger($strSlice(argument, 2), 2));\n\t}\n\tif (isOctal(argument)) {\n\t\treturn $Number($parseInteger($strSlice(argument, 2), 8));\n\t}\n\tif (hasNonWS(argument) || isInvalidHexLiteral(argument)) {\n\t\treturn NaN;\n\t}\n\tvar trimmed = $trim(argument);\n\tif (trimmed !== argument) {\n\t\treturn StringToNumber(trimmed);\n\t}\n\treturn $Number(argument);\n};\n","'use strict';\n\n// http://262.ecma-international.org/5.1/#sec-9.2\n\nmodule.exports = function ToBoolean(value) { return !!value; };\n","'use strict';\n\nvar ToNumber = require('./ToNumber');\nvar truncate = require('./truncate');\n\nvar $isNaN = require('../helpers/isNaN');\nvar $isFinite = require('../helpers/isFinite');\n\n// https://262.ecma-international.org/14.0/#sec-tointegerorinfinity\n\nmodule.exports = function ToIntegerOrInfinity(value) {\n\tvar number = ToNumber(value);\n\tif ($isNaN(number) || number === 0) { return 0; }\n\tif (!$isFinite(number)) { return number; }\n\treturn truncate(number);\n};\n","'use strict';\n\nvar MAX_SAFE_INTEGER = require('../helpers/maxSafeInteger');\n\nvar ToIntegerOrInfinity = require('./ToIntegerOrInfinity');\n\nmodule.exports = function ToLength(argument) {\n\tvar len = ToIntegerOrInfinity(argument);\n\tif (len <= 0) { return 0; } // includes converting -0 to +0\n\tif (len > MAX_SAFE_INTEGER) { return MAX_SAFE_INTEGER; }\n\treturn len;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $Number = GetIntrinsic('%Number%');\nvar isPrimitive = require('../helpers/isPrimitive');\n\nvar ToPrimitive = require('./ToPrimitive');\nvar StringToNumber = require('./StringToNumber');\n\n// https://262.ecma-international.org/13.0/#sec-tonumber\n\nmodule.exports = function ToNumber(argument) {\n\tvar value = isPrimitive(argument) ? argument : ToPrimitive(argument, $Number);\n\tif (typeof value === 'symbol') {\n\t\tthrow new $TypeError('Cannot convert a Symbol value to a number');\n\t}\n\tif (typeof value === 'bigint') {\n\t\tthrow new $TypeError('Conversion from \\'BigInt\\' to \\'number\\' is not allowed.');\n\t}\n\tif (typeof value === 'string') {\n\t\treturn StringToNumber(value);\n\t}\n\treturn $Number(value);\n};\n","'use strict';\n\nvar toPrimitive = require('es-to-primitive/es2015');\n\n// https://262.ecma-international.org/6.0/#sec-toprimitive\n\nmodule.exports = function ToPrimitive(input) {\n\tif (arguments.length > 1) {\n\t\treturn toPrimitive(input, arguments[1]);\n\t}\n\treturn toPrimitive(input);\n};\n","'use strict';\n\nvar has = require('has');\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nvar Type = require('./Type');\nvar ToBoolean = require('./ToBoolean');\nvar IsCallable = require('./IsCallable');\n\n// https://262.ecma-international.org/5.1/#sec-8.10.5\n\nmodule.exports = function ToPropertyDescriptor(Obj) {\n\tif (Type(Obj) !== 'Object') {\n\t\tthrow new $TypeError('ToPropertyDescriptor requires an object');\n\t}\n\n\tvar desc = {};\n\tif (has(Obj, 'enumerable')) {\n\t\tdesc['[[Enumerable]]'] = ToBoolean(Obj.enumerable);\n\t}\n\tif (has(Obj, 'configurable')) {\n\t\tdesc['[[Configurable]]'] = ToBoolean(Obj.configurable);\n\t}\n\tif (has(Obj, 'value')) {\n\t\tdesc['[[Value]]'] = Obj.value;\n\t}\n\tif (has(Obj, 'writable')) {\n\t\tdesc['[[Writable]]'] = ToBoolean(Obj.writable);\n\t}\n\tif (has(Obj, 'get')) {\n\t\tvar getter = Obj.get;\n\t\tif (typeof getter !== 'undefined' && !IsCallable(getter)) {\n\t\t\tthrow new $TypeError('getter must be a function');\n\t\t}\n\t\tdesc['[[Get]]'] = getter;\n\t}\n\tif (has(Obj, 'set')) {\n\t\tvar setter = Obj.set;\n\t\tif (typeof setter !== 'undefined' && !IsCallable(setter)) {\n\t\t\tthrow new $TypeError('setter must be a function');\n\t\t}\n\t\tdesc['[[Set]]'] = setter;\n\t}\n\n\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\tthrow new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t}\n\treturn desc;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $String = GetIntrinsic('%String%');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\n// https://262.ecma-international.org/6.0/#sec-tostring\n\nmodule.exports = function ToString(argument) {\n\tif (typeof argument === 'symbol') {\n\t\tthrow new $TypeError('Cannot convert a Symbol value to a string');\n\t}\n\treturn $String(argument);\n};\n","'use strict';\n\nvar ES5Type = require('../5/Type');\n\n// https://262.ecma-international.org/11.0/#sec-ecmascript-data-types-and-values\n\nmodule.exports = function Type(x) {\n\tif (typeof x === 'symbol') {\n\t\treturn 'Symbol';\n\t}\n\tif (typeof x === 'bigint') {\n\t\treturn 'BigInt';\n\t}\n\treturn ES5Type(x);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $fromCharCode = GetIntrinsic('%String.fromCharCode%');\n\nvar isLeadingSurrogate = require('../helpers/isLeadingSurrogate');\nvar isTrailingSurrogate = require('../helpers/isTrailingSurrogate');\n\n// https://tc39.es/ecma262/2020/#sec-utf16decodesurrogatepair\n\nmodule.exports = function UTF16SurrogatePairToCodePoint(lead, trail) {\n\tif (!isLeadingSurrogate(lead) || !isTrailingSurrogate(trail)) {\n\t\tthrow new $TypeError('Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code');\n\t}\n\t// var cp = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n\treturn $fromCharCode(lead) + $fromCharCode(trail);\n};\n","'use strict';\n\nvar Type = require('./Type');\n\n// var modulo = require('./modulo');\nvar $floor = Math.floor;\n\n// http://262.ecma-international.org/11.0/#eqn-floor\n\nmodule.exports = function floor(x) {\n\t// return x - modulo(x, 1);\n\tif (Type(x) === 'BigInt') {\n\t\treturn x;\n\t}\n\treturn $floor(x);\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar floor = require('./floor');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\n// https://262.ecma-international.org/14.0/#eqn-truncate\n\nmodule.exports = function truncate(x) {\n\tif (typeof x !== 'number' && typeof x !== 'bigint') {\n\t\tthrow new $TypeError('argument must be a Number or a BigInt');\n\t}\n\tvar result = x < 0 ? -floor(-x) : floor(x);\n\treturn result === 0 ? 0 : result; // in the spec, these are math values, so we filter out -0 here\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\n\n// http://262.ecma-international.org/5.1/#sec-9.10\n\nmodule.exports = function CheckObjectCoercible(value, optMessage) {\n\tif (value == null) {\n\t\tthrow new $TypeError(optMessage || ('Cannot call method on ' + value));\n\t}\n\treturn value;\n};\n","'use strict';\n\n// https://262.ecma-international.org/5.1/#sec-8\n\nmodule.exports = function Type(x) {\n\tif (x === null) {\n\t\treturn 'Null';\n\t}\n\tif (typeof x === 'undefined') {\n\t\treturn 'Undefined';\n\t}\n\tif (typeof x === 'function' || typeof x === 'object') {\n\t\treturn 'Object';\n\t}\n\tif (typeof x === 'number') {\n\t\treturn 'Number';\n\t}\n\tif (typeof x === 'boolean') {\n\t\treturn 'Boolean';\n\t}\n\tif (typeof x === 'string') {\n\t\treturn 'String';\n\t}\n};\n","'use strict';\n\n// TODO: remove, semver-major\n\nmodule.exports = require('get-intrinsic');\n","'use strict';\n\nvar hasPropertyDescriptors = require('has-property-descriptors');\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = hasPropertyDescriptors() && GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasArrayLengthDefineBug = hasPropertyDescriptors.hasArrayLengthDefineBug();\n\n// eslint-disable-next-line global-require\nvar isArray = hasArrayLengthDefineBug && require('../helpers/IsArray');\n\nvar callBound = require('call-bind/callBound');\n\nvar $isEnumerable = callBound('Object.prototype.propertyIsEnumerable');\n\n// eslint-disable-next-line max-params\nmodule.exports = function DefineOwnProperty(IsDataDescriptor, SameValue, FromPropertyDescriptor, O, P, desc) {\n\tif (!$defineProperty) {\n\t\tif (!IsDataDescriptor(desc)) {\n\t\t\t// ES3 does not support getters/setters\n\t\t\treturn false;\n\t\t}\n\t\tif (!desc['[[Configurable]]'] || !desc['[[Writable]]']) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// fallback for ES3\n\t\tif (P in O && $isEnumerable(O, P) !== !!desc['[[Enumerable]]']) {\n\t\t\t// a non-enumerable existing property\n\t\t\treturn false;\n\t\t}\n\n\t\t// property does not exist at all, or exists but is enumerable\n\t\tvar V = desc['[[Value]]'];\n\t\t// eslint-disable-next-line no-param-reassign\n\t\tO[P] = V; // will use [[Define]]\n\t\treturn SameValue(O[P], V);\n\t}\n\tif (\n\t\thasArrayLengthDefineBug\n\t\t&& P === 'length'\n\t\t&& '[[Value]]' in desc\n\t\t&& isArray(O)\n\t\t&& O.length !== desc['[[Value]]']\n\t) {\n\t\t// eslint-disable-next-line no-param-reassign\n\t\tO.length = desc['[[Value]]'];\n\t\treturn O.length === desc['[[Value]]'];\n\t}\n\n\t$defineProperty(O, P, FromPropertyDescriptor(desc));\n\treturn true;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $Array = GetIntrinsic('%Array%');\n\n// eslint-disable-next-line global-require\nvar toStr = !$Array.isArray && require('call-bind/callBound')('Object.prototype.toString');\n\nmodule.exports = $Array.isArray || function IsArray(argument) {\n\treturn toStr(argument) === '[object Array]';\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar has = require('has');\nvar isInteger = require('./isInteger');\n\nvar isMatchRecord = require('./isMatchRecord');\n\nvar predicates = {\n\t// https://262.ecma-international.org/6.0/#sec-property-descriptor-specification-type\n\t'Property Descriptor': function isPropertyDescriptor(Desc) {\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\n\t\tif (!Desc) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t},\n\t// https://262.ecma-international.org/13.0/#sec-match-records\n\t'Match Record': isMatchRecord,\n\t'Iterator Record': function isIteratorRecord(value) {\n\t\treturn has(value, '[[Iterator]]') && has(value, '[[NextMethod]]') && has(value, '[[Done]]');\n\t},\n\t'PromiseCapability Record': function isPromiseCapabilityRecord(value) {\n\t\treturn !!value\n\t\t\t&& has(value, '[[Resolve]]')\n\t\t\t&& typeof value['[[Resolve]]'] === 'function'\n\t\t\t&& has(value, '[[Reject]]')\n\t\t\t&& typeof value['[[Reject]]'] === 'function'\n\t\t\t&& has(value, '[[Promise]]')\n\t\t\t&& value['[[Promise]]']\n\t\t\t&& typeof value['[[Promise]]'].then === 'function';\n\t},\n\t'AsyncGeneratorRequest Record': function isAsyncGeneratorRequestRecord(value) {\n\t\treturn !!value\n\t\t\t&& has(value, '[[Completion]]') // TODO: confirm is a completion record\n\t\t\t&& has(value, '[[Capability]]')\n\t\t\t&& predicates['PromiseCapability Record'](value['[[Capability]]']);\n\t},\n\t'RegExp Record': function isRegExpRecord(value) {\n\t\treturn value\n\t\t\t&& has(value, '[[IgnoreCase]]')\n\t\t\t&& typeof value['[[IgnoreCase]]'] === 'boolean'\n\t\t\t&& has(value, '[[Multiline]]')\n\t\t\t&& typeof value['[[Multiline]]'] === 'boolean'\n\t\t\t&& has(value, '[[DotAll]]')\n\t\t\t&& typeof value['[[DotAll]]'] === 'boolean'\n\t\t\t&& has(value, '[[Unicode]]')\n\t\t\t&& typeof value['[[Unicode]]'] === 'boolean'\n\t\t\t&& has(value, '[[CapturingGroupsCount]]')\n\t\t\t&& typeof value['[[CapturingGroupsCount]]'] === 'number'\n\t\t\t&& isInteger(value['[[CapturingGroupsCount]]'])\n\t\t\t&& value['[[CapturingGroupsCount]]'] >= 0;\n\t}\n};\n\nmodule.exports = function assertRecord(Type, recordType, argumentName, value) {\n\tvar predicate = predicates[recordType];\n\tif (typeof predicate !== 'function') {\n\t\tthrow new $SyntaxError('unknown record type: ' + recordType);\n\t}\n\tif (Type(value) !== 'Object' || !predicate(value)) {\n\t\tthrow new $TypeError(argumentName + ' must be a ' + recordType);\n\t}\n};\n","'use strict';\n\nmodule.exports = function forEach(array, callback) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tcallback(array[i], i, array); // eslint-disable-line callback-return\n\t}\n};\n","'use strict';\n\nmodule.exports = function fromPropertyDescriptor(Desc) {\n\tif (typeof Desc === 'undefined') {\n\t\treturn Desc;\n\t}\n\tvar obj = {};\n\tif ('[[Value]]' in Desc) {\n\t\tobj.value = Desc['[[Value]]'];\n\t}\n\tif ('[[Writable]]' in Desc) {\n\t\tobj.writable = !!Desc['[[Writable]]'];\n\t}\n\tif ('[[Get]]' in Desc) {\n\t\tobj.get = Desc['[[Get]]'];\n\t}\n\tif ('[[Set]]' in Desc) {\n\t\tobj.set = Desc['[[Set]]'];\n\t}\n\tif ('[[Enumerable]]' in Desc) {\n\t\tobj.enumerable = !!Desc['[[Enumerable]]'];\n\t}\n\tif ('[[Configurable]]' in Desc) {\n\t\tobj.configurable = !!Desc['[[Configurable]]'];\n\t}\n\treturn obj;\n};\n","'use strict';\n\nvar $isNaN = require('./isNaN');\n\nmodule.exports = function (x) { return (typeof x === 'number' || typeof x === 'bigint') && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $abs = GetIntrinsic('%Math.abs%');\nvar $floor = GetIntrinsic('%Math.floor%');\n\nvar $isNaN = require('./isNaN');\nvar $isFinite = require('./isFinite');\n\nmodule.exports = function isInteger(argument) {\n\tif (typeof argument !== 'number' || $isNaN(argument) || !$isFinite(argument)) {\n\t\treturn false;\n\t}\n\tvar absValue = $abs(argument);\n\treturn $floor(absValue) === absValue;\n};\n\n","'use strict';\n\nmodule.exports = function isLeadingSurrogate(charCode) {\n\treturn typeof charCode === 'number' && charCode >= 0xD800 && charCode <= 0xDBFF;\n};\n","'use strict';\n\nvar has = require('has');\n\n// https://262.ecma-international.org/13.0/#sec-match-records\n\nmodule.exports = function isMatchRecord(record) {\n\treturn (\n\t\thas(record, '[[StartIndex]]')\n        && has(record, '[[EndIndex]]')\n        && record['[[StartIndex]]'] >= 0\n        && record['[[EndIndex]]'] >= record['[[StartIndex]]']\n        && String(parseInt(record['[[StartIndex]]'], 10)) === String(record['[[StartIndex]]'])\n        && String(parseInt(record['[[EndIndex]]'], 10)) === String(record['[[EndIndex]]'])\n\t);\n};\n","'use strict';\n\nmodule.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","'use strict';\n\nmodule.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar has = require('has');\nvar $TypeError = GetIntrinsic('%TypeError%');\n\nmodule.exports = function IsPropertyDescriptor(ES, Desc) {\n\tif (ES.Type(Desc) !== 'Object') {\n\t\treturn false;\n\t}\n\tvar allowed = {\n\t\t'[[Configurable]]': true,\n\t\t'[[Enumerable]]': true,\n\t\t'[[Get]]': true,\n\t\t'[[Set]]': true,\n\t\t'[[Value]]': true,\n\t\t'[[Writable]]': true\n\t};\n\n\tfor (var key in Desc) { // eslint-disable-line no-restricted-syntax\n\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (ES.IsDataDescriptor(Desc) && ES.IsAccessorDescriptor(Desc)) {\n\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t}\n\treturn true;\n};\n","'use strict';\n\nmodule.exports = function isTrailingSurrogate(charCode) {\n\treturn typeof charCode === 'number' && charCode >= 0xDC00 && charCode <= 0xDFFF;\n};\n","'use strict';\n\nmodule.exports = Number.MAX_SAFE_INTEGER || 9007199254740991; // Math.pow(2, 53) - 1;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","const debug = false;\nexport function log(...args) {\n    if (debug) {\n        console.log(...args);\n    }\n}\n","//\n//  Copyright 2021 Readium Foundation. All rights reserved.\n//  Use of this source code is governed by the BSD-style license\n//  available in the top-level LICENSE file of the project.\n//\nimport { log } from \"./log\";\n/**\n * Transforms a DOMRect into the zoomed coordinate system.\n *\n * See https://issues.chromium.org/issues/40391865#comment9\n */\nexport function dezoomDomRect(rect, zoomLevel) {\n    return new DOMRect(rect.x / zoomLevel, rect.y / zoomLevel, rect.width / zoomLevel, rect.height / zoomLevel);\n}\n/**\n * Transforms a rect into the zoomed coordinate system.\n *\n * See https://issues.chromium.org/issues/40391865#comment9\n */\nexport function dezoomRect(rect, zoomLevel) {\n    return {\n        bottom: rect.bottom / zoomLevel,\n        height: rect.height / zoomLevel,\n        left: rect.left / zoomLevel,\n        right: rect.right / zoomLevel,\n        top: rect.top / zoomLevel,\n        width: rect.width / zoomLevel,\n    };\n}\nexport function domRectToRect(rect) {\n    return {\n        width: rect.width,\n        height: rect.height,\n        left: rect.left,\n        top: rect.top,\n        right: rect.right,\n        bottom: rect.bottom,\n    };\n}\nexport function getClientRectsNoOverlap(range, doNotMergeHorizontallyAlignedRects) {\n    const clientRects = range.getClientRects();\n    const tolerance = 1;\n    const originalRects = [];\n    for (const rangeClientRect of clientRects) {\n        originalRects.push({\n            bottom: rangeClientRect.bottom,\n            height: rangeClientRect.height,\n            left: rangeClientRect.left,\n            right: rangeClientRect.right,\n            top: rangeClientRect.top,\n            width: rangeClientRect.width,\n        });\n    }\n    const mergedRects = mergeTouchingRects(originalRects, tolerance, doNotMergeHorizontallyAlignedRects);\n    const noContainedRects = removeContainedRects(mergedRects, tolerance);\n    const newRects = replaceOverlapingRects(noContainedRects);\n    const minArea = 2 * 2;\n    for (let j = newRects.length - 1; j >= 0; j--) {\n        const rect = newRects[j];\n        const bigEnough = rect.width * rect.height > minArea;\n        if (!bigEnough) {\n            if (newRects.length > 1) {\n                log(\"CLIENT RECT: remove small\");\n                newRects.splice(j, 1);\n            }\n            else {\n                log(\"CLIENT RECT: remove small, but keep otherwise empty!\");\n                break;\n            }\n        }\n    }\n    log(`CLIENT RECT: reduced ${originalRects.length} --> ${newRects.length}`);\n    return newRects;\n}\nfunction mergeTouchingRects(rects, tolerance, doNotMergeHorizontallyAlignedRects) {\n    for (let i = 0; i < rects.length; i++) {\n        for (let j = i + 1; j < rects.length; j++) {\n            const rect1 = rects[i];\n            const rect2 = rects[j];\n            if (rect1 === rect2) {\n                log(\"mergeTouchingRects rect1 === rect2 ??!\");\n                continue;\n            }\n            const rectsLineUpVertically = almostEqual(rect1.top, rect2.top, tolerance) &&\n                almostEqual(rect1.bottom, rect2.bottom, tolerance);\n            const rectsLineUpHorizontally = almostEqual(rect1.left, rect2.left, tolerance) &&\n                almostEqual(rect1.right, rect2.right, tolerance);\n            const horizontalAllowed = !doNotMergeHorizontallyAlignedRects;\n            const aligned = (rectsLineUpHorizontally && horizontalAllowed) ||\n                (rectsLineUpVertically && !rectsLineUpHorizontally);\n            const canMerge = aligned && rectsTouchOrOverlap(rect1, rect2, tolerance);\n            if (canMerge) {\n                log(`CLIENT RECT: merging two into one, VERTICAL: ${rectsLineUpVertically} HORIZONTAL: ${rectsLineUpHorizontally} (${doNotMergeHorizontallyAlignedRects})`);\n                const newRects = rects.filter((rect) => {\n                    return rect !== rect1 && rect !== rect2;\n                });\n                const replacementClientRect = getBoundingRect(rect1, rect2);\n                newRects.push(replacementClientRect);\n                return mergeTouchingRects(newRects, tolerance, doNotMergeHorizontallyAlignedRects);\n            }\n        }\n    }\n    return rects;\n}\nfunction getBoundingRect(rect1, rect2) {\n    const left = Math.min(rect1.left, rect2.left);\n    const right = Math.max(rect1.right, rect2.right);\n    const top = Math.min(rect1.top, rect2.top);\n    const bottom = Math.max(rect1.bottom, rect2.bottom);\n    return {\n        bottom,\n        height: bottom - top,\n        left,\n        right,\n        top,\n        width: right - left,\n    };\n}\nfunction removeContainedRects(rects, tolerance) {\n    const rectsToKeep = new Set(rects);\n    for (const rect of rects) {\n        const bigEnough = rect.width > 1 && rect.height > 1;\n        if (!bigEnough) {\n            log(\"CLIENT RECT: remove tiny\");\n            rectsToKeep.delete(rect);\n            continue;\n        }\n        for (const possiblyContainingRect of rects) {\n            if (rect === possiblyContainingRect) {\n                continue;\n            }\n            if (!rectsToKeep.has(possiblyContainingRect)) {\n                continue;\n            }\n            if (rectContains(possiblyContainingRect, rect, tolerance)) {\n                log(\"CLIENT RECT: remove contained\");\n                rectsToKeep.delete(rect);\n                break;\n            }\n        }\n    }\n    return Array.from(rectsToKeep);\n}\nfunction rectContains(rect1, rect2, tolerance) {\n    return (rectContainsPoint(rect1, rect2.left, rect2.top, tolerance) &&\n        rectContainsPoint(rect1, rect2.right, rect2.top, tolerance) &&\n        rectContainsPoint(rect1, rect2.left, rect2.bottom, tolerance) &&\n        rectContainsPoint(rect1, rect2.right, rect2.bottom, tolerance));\n}\nexport function rectContainsPoint(rect, x, y, tolerance) {\n    return ((rect.left < x || almostEqual(rect.left, x, tolerance)) &&\n        (rect.right > x || almostEqual(rect.right, x, tolerance)) &&\n        (rect.top < y || almostEqual(rect.top, y, tolerance)) &&\n        (rect.bottom > y || almostEqual(rect.bottom, y, tolerance)));\n}\nfunction replaceOverlapingRects(rects) {\n    for (let i = 0; i < rects.length; i++) {\n        for (let j = i + 1; j < rects.length; j++) {\n            const rect1 = rects[i];\n            const rect2 = rects[j];\n            if (rect1 === rect2) {\n                log(\"replaceOverlapingRects rect1 === rect2 ??!\");\n                continue;\n            }\n            if (rectsTouchOrOverlap(rect1, rect2, -1)) {\n                let toAdd = [];\n                let toRemove;\n                const subtractRects1 = rectSubtract(rect1, rect2);\n                if (subtractRects1.length === 1) {\n                    toAdd = subtractRects1;\n                    toRemove = rect1;\n                }\n                else {\n                    const subtractRects2 = rectSubtract(rect2, rect1);\n                    if (subtractRects1.length < subtractRects2.length) {\n                        toAdd = subtractRects1;\n                        toRemove = rect1;\n                    }\n                    else {\n                        toAdd = subtractRects2;\n                        toRemove = rect2;\n                    }\n                }\n                log(`CLIENT RECT: overlap, cut one rect into ${toAdd.length}`);\n                const newRects = rects.filter((rect) => {\n                    return rect !== toRemove;\n                });\n                Array.prototype.push.apply(newRects, toAdd);\n                return replaceOverlapingRects(newRects);\n            }\n        }\n    }\n    return rects;\n}\nfunction rectSubtract(rect1, rect2) {\n    const rectIntersected = rectIntersect(rect2, rect1);\n    if (rectIntersected.height === 0 || rectIntersected.width === 0) {\n        return [rect1];\n    }\n    const rects = [];\n    {\n        const rectA = {\n            bottom: rect1.bottom,\n            height: 0,\n            left: rect1.left,\n            right: rectIntersected.left,\n            top: rect1.top,\n            width: 0,\n        };\n        rectA.width = rectA.right - rectA.left;\n        rectA.height = rectA.bottom - rectA.top;\n        if (rectA.height !== 0 && rectA.width !== 0) {\n            rects.push(rectA);\n        }\n    }\n    {\n        const rectB = {\n            bottom: rectIntersected.top,\n            height: 0,\n            left: rectIntersected.left,\n            right: rectIntersected.right,\n            top: rect1.top,\n            width: 0,\n        };\n        rectB.width = rectB.right - rectB.left;\n        rectB.height = rectB.bottom - rectB.top;\n        if (rectB.height !== 0 && rectB.width !== 0) {\n            rects.push(rectB);\n        }\n    }\n    {\n        const rectC = {\n            bottom: rect1.bottom,\n            height: 0,\n            left: rectIntersected.left,\n            right: rectIntersected.right,\n            top: rectIntersected.bottom,\n            width: 0,\n        };\n        rectC.width = rectC.right - rectC.left;\n        rectC.height = rectC.bottom - rectC.top;\n        if (rectC.height !== 0 && rectC.width !== 0) {\n            rects.push(rectC);\n        }\n    }\n    {\n        const rectD = {\n            bottom: rect1.bottom,\n            height: 0,\n            left: rectIntersected.right,\n            right: rect1.right,\n            top: rect1.top,\n            width: 0,\n        };\n        rectD.width = rectD.right - rectD.left;\n        rectD.height = rectD.bottom - rectD.top;\n        if (rectD.height !== 0 && rectD.width !== 0) {\n            rects.push(rectD);\n        }\n    }\n    return rects;\n}\nfunction rectIntersect(rect1, rect2) {\n    const maxLeft = Math.max(rect1.left, rect2.left);\n    const minRight = Math.min(rect1.right, rect2.right);\n    const maxTop = Math.max(rect1.top, rect2.top);\n    const minBottom = Math.min(rect1.bottom, rect2.bottom);\n    return {\n        bottom: minBottom,\n        height: Math.max(0, minBottom - maxTop),\n        left: maxLeft,\n        right: minRight,\n        top: maxTop,\n        width: Math.max(0, minRight - maxLeft),\n    };\n}\nfunction rectsTouchOrOverlap(rect1, rect2, tolerance) {\n    return ((rect1.left < rect2.right ||\n        (tolerance >= 0 && almostEqual(rect1.left, rect2.right, tolerance))) &&\n        (rect2.left < rect1.right ||\n            (tolerance >= 0 && almostEqual(rect2.left, rect1.right, tolerance))) &&\n        (rect1.top < rect2.bottom ||\n            (tolerance >= 0 && almostEqual(rect1.top, rect2.bottom, tolerance))) &&\n        (rect2.top < rect1.bottom ||\n            (tolerance >= 0 && almostEqual(rect2.top, rect1.bottom, tolerance))));\n}\nfunction almostEqual(a, b, tolerance) {\n    return Math.abs(a - b) <= tolerance;\n}\n","/**\n * From which direction to evaluate strings or nodes: from the start of a string\n * or range seeking Forwards, or from the end seeking Backwards.\n */\nvar TrimDirection;\n(function (TrimDirection) {\n    TrimDirection[TrimDirection[\"Forwards\"] = 1] = \"Forwards\";\n    TrimDirection[TrimDirection[\"Backwards\"] = 2] = \"Backwards\";\n})(TrimDirection || (TrimDirection = {}));\n/**\n * Return the offset of the nearest non-whitespace character to `baseOffset`\n * within the string `text`, looking in the `direction` indicated. Return -1 if\n * no non-whitespace character exists between `baseOffset` (inclusive) and the\n * terminus of the string (start or end depending on `direction`).\n */\nfunction closestNonSpaceInString(text, baseOffset, direction) {\n    const nextChar = direction === TrimDirection.Forwards ? baseOffset : baseOffset - 1;\n    if (text.charAt(nextChar).trim() !== \"\") {\n        // baseOffset is already valid: it points at a non-whitespace character\n        return baseOffset;\n    }\n    let availableChars;\n    let availableNonWhitespaceChars;\n    if (direction === TrimDirection.Backwards) {\n        availableChars = text.substring(0, baseOffset);\n        availableNonWhitespaceChars = availableChars.trimEnd();\n    }\n    else {\n        availableChars = text.substring(baseOffset);\n        availableNonWhitespaceChars = availableChars.trimStart();\n    }\n    if (!availableNonWhitespaceChars.length) {\n        return -1;\n    }\n    const offsetDelta = availableChars.length - availableNonWhitespaceChars.length;\n    return direction === TrimDirection.Backwards\n        ? baseOffset - offsetDelta\n        : baseOffset + offsetDelta;\n}\n/**\n * Calculate a new Range start position (TrimDirection.Forwards) or end position\n * (Backwards) for `range` that represents the nearest non-whitespace character,\n * moving into the `range` away from the relevant initial boundary node towards\n * the terminating boundary node.\n *\n * @throws {RangeError} If no text node with non-whitespace characters found\n */\nfunction closestNonSpaceInRange(range, direction) {\n    const nodeIter = range.commonAncestorContainer.ownerDocument.createNodeIterator(range.commonAncestorContainer, NodeFilter.SHOW_TEXT);\n    const initialBoundaryNode = direction === TrimDirection.Forwards\n        ? range.startContainer\n        : range.endContainer;\n    const terminalBoundaryNode = direction === TrimDirection.Forwards\n        ? range.endContainer\n        : range.startContainer;\n    let currentNode = nodeIter.nextNode();\n    // Advance the NodeIterator to the `initialBoundaryNode`\n    while (currentNode && currentNode !== initialBoundaryNode) {\n        currentNode = nodeIter.nextNode();\n    }\n    if (direction === TrimDirection.Backwards) {\n        // Reverse the NodeIterator direction. This will return the same node\n        // as the previous `nextNode()` call (initial boundary node).\n        currentNode = nodeIter.previousNode();\n    }\n    let trimmedOffset = -1;\n    const advance = () => {\n        currentNode =\n            direction === TrimDirection.Forwards\n                ? nodeIter.nextNode()\n                : nodeIter.previousNode();\n        if (currentNode) {\n            const nodeText = currentNode.textContent;\n            const baseOffset = direction === TrimDirection.Forwards ? 0 : nodeText.length;\n            trimmedOffset = closestNonSpaceInString(nodeText, baseOffset, direction);\n        }\n    };\n    while (currentNode &&\n        trimmedOffset === -1 &&\n        currentNode !== terminalBoundaryNode) {\n        advance();\n    }\n    if (currentNode && trimmedOffset >= 0) {\n        return { node: currentNode, offset: trimmedOffset };\n    }\n    /* istanbul ignore next */\n    throw new RangeError(\"No text nodes with non-whitespace text found in range\");\n}\n/**\n * Return a new DOM Range that adjusts the start and end positions of `range` as\n * needed such that:\n *\n * - `startContainer` and `endContainer` text nodes both contain at least one\n *   non-whitespace character within the Range's text content\n * - `startOffset` and `endOffset` both reference non-whitespace characters,\n *   with `startOffset` immediately before the first non-whitespace character\n *   and `endOffset` immediately after the last\n *\n * Whitespace characters are those that are removed by `String.prototype.trim()`\n *\n * @param range - A DOM Range that whose `startContainer` and `endContainer` are\n *   both text nodes, and which contains at least one non-whitespace character.\n * @throws {RangeError}\n */\nexport function trimRange(range) {\n    if (!range.toString().trim().length) {\n        throw new RangeError(\"Range contains no non-whitespace text\");\n    }\n    if (range.startContainer.nodeType !== Node.TEXT_NODE) {\n        throw new RangeError(\"Range startContainer is not a text node\");\n    }\n    if (range.endContainer.nodeType !== Node.TEXT_NODE) {\n        throw new RangeError(\"Range endContainer is not a text node\");\n    }\n    const trimmedRange = range.cloneRange();\n    let startTrimmed = false;\n    let endTrimmed = false;\n    const trimmedOffsets = {\n        start: closestNonSpaceInString(range.startContainer.textContent, range.startOffset, TrimDirection.Forwards),\n        end: closestNonSpaceInString(range.endContainer.textContent, range.endOffset, TrimDirection.Backwards),\n    };\n    if (trimmedOffsets.start >= 0) {\n        trimmedRange.setStart(range.startContainer, trimmedOffsets.start);\n        startTrimmed = true;\n    }\n    // Note: An offset of 0 is invalid for an end offset, as no text in the\n    // node would be included in the range.\n    if (trimmedOffsets.end > 0) {\n        trimmedRange.setEnd(range.endContainer, trimmedOffsets.end);\n        endTrimmed = true;\n    }\n    if (startTrimmed && endTrimmed) {\n        return trimmedRange;\n    }\n    if (!startTrimmed) {\n        // There are no (non-whitespace) characters between `startOffset` and the\n        // end of the `startContainer` node.\n        const { node, offset } = closestNonSpaceInRange(trimmedRange, TrimDirection.Forwards);\n        if (node && offset >= 0) {\n            trimmedRange.setStart(node, offset);\n        }\n    }\n    if (!endTrimmed) {\n        // There are no (non-whitespace) characters between the start of the Range's\n        // `endContainer` text content and the `endOffset`.\n        const { node, offset } = closestNonSpaceInRange(trimmedRange, TrimDirection.Backwards);\n        if (node && offset > 0) {\n            trimmedRange.setEnd(node, offset);\n        }\n    }\n    return trimmedRange;\n}\n","import { trimRange } from \"./trim-range\";\n/**\n * Return the combined length of text nodes contained in `node`.\n */\nfunction nodeTextLength(node) {\n    var _a, _b;\n    switch (node.nodeType) {\n        case Node.ELEMENT_NODE:\n        case Node.TEXT_NODE:\n            // nb. `textContent` excludes text in comments and processing instructions\n            // when called on a parent element, so we don't need to subtract that here.\n            return (_b = (_a = node.textContent) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;\n        default:\n            return 0;\n    }\n}\n/**\n * Return the total length of the text of all previous siblings of `node`.\n */\nfunction previousSiblingsTextLength(node) {\n    let sibling = node.previousSibling;\n    let length = 0;\n    while (sibling) {\n        length += nodeTextLength(sibling);\n        sibling = sibling.previousSibling;\n    }\n    return length;\n}\n/**\n * Resolve one or more character offsets within an element to (text node,\n * position) pairs.\n *\n * @param element\n * @param offsets - Offsets, which must be sorted in ascending order\n * @throws {RangeError}\n */\nfunction resolveOffsets(element, ...offsets) {\n    let nextOffset = offsets.shift();\n    const nodeIter = element.ownerDocument.createNodeIterator(element, NodeFilter.SHOW_TEXT);\n    const results = [];\n    let currentNode = nodeIter.nextNode();\n    let textNode;\n    let length = 0;\n    // Find the text node containing the `nextOffset`th character from the start\n    // of `element`.\n    while (nextOffset !== undefined && currentNode) {\n        textNode = currentNode;\n        if (length + textNode.data.length > nextOffset) {\n            results.push({ node: textNode, offset: nextOffset - length });\n            nextOffset = offsets.shift();\n        }\n        else {\n            currentNode = nodeIter.nextNode();\n            length += textNode.data.length;\n        }\n    }\n    // Boundary case.\n    while (nextOffset !== undefined && textNode && length === nextOffset) {\n        results.push({ node: textNode, offset: textNode.data.length });\n        nextOffset = offsets.shift();\n    }\n    if (nextOffset !== undefined) {\n        throw new RangeError(\"Offset exceeds text length\");\n    }\n    return results;\n}\n/**\n * When resolving a TextPosition, specifies the direction to search for the\n * nearest text node if `offset` is `0` and the element has no text.\n */\nexport var ResolveDirection;\n(function (ResolveDirection) {\n    ResolveDirection[ResolveDirection[\"FORWARDS\"] = 1] = \"FORWARDS\";\n    ResolveDirection[ResolveDirection[\"BACKWARDS\"] = 2] = \"BACKWARDS\";\n})(ResolveDirection || (ResolveDirection = {}));\n/**\n * Represents an offset within the text content of an element.\n *\n * This position can be resolved to a specific descendant node in the current\n * DOM subtree of the element using the `resolve` method.\n */\nexport class TextPosition {\n    constructor(element, offset) {\n        if (offset < 0) {\n            throw new Error(\"Offset is invalid\");\n        }\n        /** Element that `offset` is relative to. */\n        this.element = element;\n        /** Character offset from the start of the element's `textContent`. */\n        this.offset = offset;\n    }\n    /**\n     * Return a copy of this position with offset relative to a given ancestor\n     * element.\n     *\n     * @param parent - Ancestor of `this.element`\n     */\n    relativeTo(parent) {\n        if (!parent.contains(this.element)) {\n            throw new Error(\"Parent is not an ancestor of current element\");\n        }\n        let el = this.element;\n        let offset = this.offset;\n        while (el !== parent) {\n            offset += previousSiblingsTextLength(el);\n            el = el.parentElement;\n        }\n        return new TextPosition(el, offset);\n    }\n    /**\n     * Resolve the position to a specific text node and offset within that node.\n     *\n     * Throws if `this.offset` exceeds the length of the element's text. In the\n     * case where the element has no text and `this.offset` is 0, the `direction`\n     * option determines what happens.\n     *\n     * Offsets at the boundary between two nodes are resolved to the start of the\n     * node that begins at the boundary.\n     *\n     * @param options.direction - Specifies in which direction to search for the\n     *                            nearest text node if `this.offset` is `0` and\n     *                            `this.element` has no text. If not specified an\n     *                            error is thrown.\n     *\n     * @throws {RangeError}\n     */\n    resolve(options = {}) {\n        try {\n            return resolveOffsets(this.element, this.offset)[0];\n        }\n        catch (err) {\n            if (this.offset === 0 && options.direction !== undefined) {\n                const tw = document.createTreeWalker(this.element.getRootNode(), NodeFilter.SHOW_TEXT);\n                tw.currentNode = this.element;\n                const forwards = options.direction === ResolveDirection.FORWARDS;\n                const text = forwards\n                    ? tw.nextNode()\n                    : tw.previousNode();\n                if (!text) {\n                    throw err;\n                }\n                return { node: text, offset: forwards ? 0 : text.data.length };\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    /**\n     * Construct a `TextPosition` that refers to the `offset`th character within\n     * `node`.\n     */\n    static fromCharOffset(node, offset) {\n        switch (node.nodeType) {\n            case Node.TEXT_NODE:\n                return TextPosition.fromPoint(node, offset);\n            case Node.ELEMENT_NODE:\n                return new TextPosition(node, offset);\n            default:\n                throw new Error(\"Node is not an element or text node\");\n        }\n    }\n    /**\n     * Construct a `TextPosition` representing the range start or end point (node, offset).\n     *\n     * @param node\n     * @param offset - Offset within the node\n     */\n    static fromPoint(node, offset) {\n        switch (node.nodeType) {\n            case Node.TEXT_NODE: {\n                if (offset < 0 || offset > node.data.length) {\n                    throw new Error(\"Text node offset is out of range\");\n                }\n                if (!node.parentElement) {\n                    throw new Error(\"Text node has no parent\");\n                }\n                // Get the offset from the start of the parent element.\n                const textOffset = previousSiblingsTextLength(node) + offset;\n                return new TextPosition(node.parentElement, textOffset);\n            }\n            case Node.ELEMENT_NODE: {\n                if (offset < 0 || offset > node.childNodes.length) {\n                    throw new Error(\"Child node offset is out of range\");\n                }\n                // Get the text length before the `offset`th child of element.\n                let textOffset = 0;\n                for (let i = 0; i < offset; i++) {\n                    textOffset += nodeTextLength(node.childNodes[i]);\n                }\n                return new TextPosition(node, textOffset);\n            }\n            default:\n                throw new Error(\"Point is not in an element or text node\");\n        }\n    }\n}\n/**\n * Represents a region of a document as a (start, end) pair of `TextPosition` points.\n *\n * Representing a range in this way allows for changes in the DOM content of the\n * range which don't affect its text content, without affecting the text content\n * of the range itself.\n */\nexport class TextRange {\n    constructor(start, end) {\n        this.start = start;\n        this.end = end;\n    }\n    /**\n     * Create a new TextRange whose `start` and `end` are computed relative to\n     * `element`. `element` must be an ancestor of both `start.element` and\n     * `end.element`.\n     */\n    relativeTo(element) {\n        return new TextRange(this.start.relativeTo(element), this.end.relativeTo(element));\n    }\n    /**\n     * Resolve this TextRange to a (DOM) Range.\n     *\n     * The resulting DOM Range will always start and end in a `Text` node.\n     * Hence `TextRange.fromRange(range).toRange()` can be used to \"shrink\" a\n     * range to the text it contains.\n     *\n     * May throw if the `start` or `end` positions cannot be resolved to a range.\n     */\n    toRange() {\n        let start;\n        let end;\n        if (this.start.element === this.end.element &&\n            this.start.offset <= this.end.offset) {\n            // Fast path for start and end points in same element.\n            [start, end] = resolveOffsets(this.start.element, this.start.offset, this.end.offset);\n        }\n        else {\n            start = this.start.resolve({\n                direction: ResolveDirection.FORWARDS,\n            });\n            end = this.end.resolve({ direction: ResolveDirection.BACKWARDS });\n        }\n        const range = new Range();\n        range.setStart(start.node, start.offset);\n        range.setEnd(end.node, end.offset);\n        return range;\n    }\n    /**\n     * Create a TextRange from a (DOM) Range\n     */\n    static fromRange(range) {\n        const start = TextPosition.fromPoint(range.startContainer, range.startOffset);\n        const end = TextPosition.fromPoint(range.endContainer, range.endOffset);\n        return new TextRange(start, end);\n    }\n    /**\n     * Create a TextRange representing the `start`th to `end`th characters in\n     * `root`\n     */\n    static fromOffsets(root, start, end) {\n        return new TextRange(new TextPosition(root, start), new TextPosition(root, end));\n    }\n    /**\n     * Return a new Range representing `range` trimmed of any leading or trailing\n     * whitespace\n     */\n    static trimmedRange(range) {\n        return trimRange(TextRange.fromRange(range).toRange());\n    }\n}\n","import approxSearch from \"approx-string-match\";\n/**\n * Find the best approximate matches for `str` in `text` allowing up to\n * `maxErrors` errors.\n */\nfunction search(text, str, maxErrors) {\n    // Do a fast search for exact matches. The `approx-string-match` library\n    // doesn't currently incorporate this optimization itself.\n    let matchPos = 0;\n    const exactMatches = [];\n    while (matchPos !== -1) {\n        matchPos = text.indexOf(str, matchPos);\n        if (matchPos !== -1) {\n            exactMatches.push({\n                start: matchPos,\n                end: matchPos + str.length,\n                errors: 0,\n            });\n            matchPos += 1;\n        }\n    }\n    if (exactMatches.length > 0) {\n        return exactMatches;\n    }\n    // If there are no exact matches, do a more expensive search for matches\n    // with errors.\n    return approxSearch(text, str, maxErrors);\n}\n/**\n * Compute a score between 0 and 1.0 for the similarity between `text` and `str`.\n */\nfunction textMatchScore(text, str) {\n    // `search` will return no matches if either the text or pattern is empty,\n    // otherwise it will return at least one match if the max allowed error count\n    // is at least `str.length`.\n    if (str.length === 0 || text.length === 0) {\n        return 0.0;\n    }\n    const matches = search(text, str, str.length);\n    // prettier-ignore\n    return 1 - (matches[0].errors / str.length);\n}\n/**\n * Find the best approximate match for `quote` in `text`.\n *\n * @param text - Document text to search\n * @param quote - String to find within `text`\n * @param context - Context in which the quote originally appeared. This is\n *        used to choose the best match.\n * @return `null` if no match exceeding the minimum quality threshold was found.\n */\nexport function matchQuote(text, quote, context = {}) {\n    if (quote.length === 0) {\n        return null;\n    }\n    // Choose the maximum number of errors to allow for the initial search.\n    // This choice involves a tradeoff between:\n    //\n    //  - Recall (proportion of \"good\" matches found)\n    //  - Precision (proportion of matches found which are \"good\")\n    //  - Cost of the initial search and of processing the candidate matches [1]\n    //\n    // [1] Specifically, the expected-time complexity of the initial search is\n    //     `O((maxErrors / 32) * text.length)`. See `approx-string-match` docs.\n    const maxErrors = Math.min(256, quote.length / 2);\n    // Find the closest matches for `quote` in `text` based on edit distance.\n    const matches = search(text, quote, maxErrors);\n    if (matches.length === 0) {\n        return null;\n    }\n    /**\n     * Compute a score between 0 and 1.0 for a match candidate.\n     */\n    const scoreMatch = (match) => {\n        const quoteWeight = 50; // Similarity of matched text to quote.\n        const prefixWeight = 20; // Similarity of text before matched text to `context.prefix`.\n        const suffixWeight = 20; // Similarity of text after matched text to `context.suffix`.\n        const posWeight = 2; // Proximity to expected location. Used as a tie-breaker.\n        const quoteScore = 1 - match.errors / quote.length;\n        const prefixScore = context.prefix\n            ? textMatchScore(text.slice(Math.max(0, match.start - context.prefix.length), match.start), context.prefix)\n            : 1.0;\n        const suffixScore = context.suffix\n            ? textMatchScore(text.slice(match.end, match.end + context.suffix.length), context.suffix)\n            : 1.0;\n        let posScore = 1.0;\n        if (typeof context.hint === \"number\") {\n            const offset = Math.abs(match.start - context.hint);\n            posScore = 1.0 - offset / text.length;\n        }\n        const rawScore = quoteWeight * quoteScore +\n            prefixWeight * prefixScore +\n            suffixWeight * suffixScore +\n            posWeight * posScore;\n        const maxScore = quoteWeight + prefixWeight + suffixWeight + posWeight;\n        const normalizedScore = rawScore / maxScore;\n        return normalizedScore;\n    };\n    // Rank matches based on similarity of actual and expected surrounding text\n    // and actual/expected offset in the document text.\n    const scoredMatches = matches.map((m) => ({\n        start: m.start,\n        end: m.end,\n        score: scoreMatch(m),\n    }));\n    // Choose match with the highest score.\n    scoredMatches.sort((a, b) => b.score - a.score);\n    return scoredMatches[0];\n}\n","import { matchQuote } from \"./match-quote\";\nimport { TextRange, TextPosition } from \"./text-range\";\nimport { nodeFromXPath, xpathFromNode } from \"./xpath\";\n/**\n * Converts between `RangeSelector` selectors and `Range` objects.\n */\nexport class RangeAnchor {\n    /**\n     * @param root - A root element from which to anchor.\n     * @param range - A range describing the anchor.\n     */\n    constructor(root, range) {\n        this.root = root;\n        this.range = range;\n    }\n    /**\n     * @param root - A root element from which to anchor.\n     * @param range - A range describing the anchor.\n     */\n    static fromRange(root, range) {\n        return new RangeAnchor(root, range);\n    }\n    /**\n     * Create an anchor from a serialized `RangeSelector` selector.\n     *\n     * @param root - A root element from which to anchor.\n     */\n    static fromSelector(root, selector) {\n        const startContainer = nodeFromXPath(selector.startContainer, root);\n        if (!startContainer) {\n            throw new Error(\"Failed to resolve startContainer XPath\");\n        }\n        const endContainer = nodeFromXPath(selector.endContainer, root);\n        if (!endContainer) {\n            throw new Error(\"Failed to resolve endContainer XPath\");\n        }\n        const startPos = TextPosition.fromCharOffset(startContainer, selector.startOffset);\n        const endPos = TextPosition.fromCharOffset(endContainer, selector.endOffset);\n        const range = new TextRange(startPos, endPos).toRange();\n        return new RangeAnchor(root, range);\n    }\n    toRange() {\n        return this.range;\n    }\n    toSelector() {\n        // \"Shrink\" the range so that it tightly wraps its text. This ensures more\n        // predictable output for a given text selection.\n        const normalizedRange = TextRange.fromRange(this.range).toRange();\n        const textRange = TextRange.fromRange(normalizedRange);\n        const startContainer = xpathFromNode(textRange.start.element, this.root);\n        const endContainer = xpathFromNode(textRange.end.element, this.root);\n        return {\n            type: \"RangeSelector\",\n            startContainer,\n            startOffset: textRange.start.offset,\n            endContainer,\n            endOffset: textRange.end.offset,\n        };\n    }\n}\n/**\n * Converts between `TextPositionSelector` selectors and `Range` objects.\n */\nexport class TextPositionAnchor {\n    constructor(root, start, end) {\n        this.root = root;\n        this.start = start;\n        this.end = end;\n    }\n    static fromRange(root, range) {\n        const textRange = TextRange.fromRange(range).relativeTo(root);\n        return new TextPositionAnchor(root, textRange.start.offset, textRange.end.offset);\n    }\n    static fromSelector(root, selector) {\n        return new TextPositionAnchor(root, selector.start, selector.end);\n    }\n    toSelector() {\n        return {\n            type: \"TextPositionSelector\",\n            start: this.start,\n            end: this.end,\n        };\n    }\n    toRange() {\n        return TextRange.fromOffsets(this.root, this.start, this.end).toRange();\n    }\n}\n/**\n * Converts between `TextQuoteSelector` selectors and `Range` objects.\n */\nexport class TextQuoteAnchor {\n    /**\n     * @param root - A root element from which to anchor.\n     */\n    constructor(root, exact, context = {}) {\n        this.root = root;\n        this.exact = exact;\n        this.context = context;\n    }\n    /**\n     * Create a `TextQuoteAnchor` from a range.\n     *\n     * Will throw if `range` does not contain any text nodes.\n     */\n    static fromRange(root, range) {\n        const text = root.textContent;\n        const textRange = TextRange.fromRange(range).relativeTo(root);\n        const start = textRange.start.offset;\n        const end = textRange.end.offset;\n        // Number of characters around the quote to capture as context. We currently\n        // always use a fixed amount, but it would be better if this code was aware\n        // of logical boundaries in the document (paragraph, article etc.) to avoid\n        // capturing text unrelated to the quote.\n        //\n        // In regular prose the ideal content would often be the surrounding sentence.\n        // This is a natural unit of meaning which enables displaying quotes in\n        // context even when the document is not available. We could use `Intl.Segmenter`\n        // for this when available.\n        const contextLen = 32;\n        return new TextQuoteAnchor(root, text.slice(start, end), {\n            prefix: text.slice(Math.max(0, start - contextLen), start),\n            suffix: text.slice(end, Math.min(text.length, end + contextLen)),\n        });\n    }\n    static fromSelector(root, selector) {\n        const { prefix, suffix } = selector;\n        return new TextQuoteAnchor(root, selector.exact, { prefix, suffix });\n    }\n    toSelector() {\n        return {\n            type: \"TextQuoteSelector\",\n            exact: this.exact,\n            prefix: this.context.prefix,\n            suffix: this.context.suffix,\n        };\n    }\n    toRange(options = {}) {\n        return this.toPositionAnchor(options).toRange();\n    }\n    toPositionAnchor(options = {}) {\n        const text = this.root.textContent;\n        const match = matchQuote(text, this.exact, Object.assign(Object.assign({}, this.context), { hint: options.hint }));\n        if (!match) {\n            throw new Error(\"Quote not found\");\n        }\n        return new TextPositionAnchor(this.root, match.start, match.end);\n    }\n}\n/**\n * Parse a string containing a time offset in seconds, since the start of some\n * media, into a float.\n */\nfunction parseMediaTime(timeStr) {\n    const val = parseFloat(timeStr);\n    if (!Number.isFinite(val) || val < 0) {\n        return null;\n    }\n    return val;\n}\n/** Implementation of {@link Array.prototype.findLastIndex} */\nfunction findLastIndex(ary, pred) {\n    for (let i = ary.length - 1; i >= 0; i--) {\n        if (pred(ary[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\nfunction closestElement(node) {\n    return node instanceof Element ? node : node.parentElement;\n}\n/**\n * Get the media time range associated with an element or pair of elements,\n * from `data-time-{start, end}` attributes on them.\n */\nfunction getMediaTimeRange(start, end = start) {\n    var _a, _b;\n    const startTime = parseMediaTime((_a = start === null || start === void 0 ? void 0 : start.getAttribute(\"data-time-start\")) !== null && _a !== void 0 ? _a : \"\");\n    const endTime = parseMediaTime((_b = end === null || end === void 0 ? void 0 : end.getAttribute(\"data-time-end\")) !== null && _b !== void 0 ? _b : \"\");\n    if (typeof startTime !== \"number\" ||\n        typeof endTime !== \"number\" ||\n        endTime < startTime) {\n        return null;\n    }\n    return [startTime, endTime];\n}\nexport class MediaTimeAnchor {\n    constructor(root, start, end) {\n        this.root = root;\n        this.start = start;\n        this.end = end;\n    }\n    /**\n     * Return a {@link MediaTimeAnchor} that represents a range, or `null` if\n     * no time range information is present on elements in the range.\n     */\n    static fromRange(root, range) {\n        var _a, _b;\n        const start = (_a = closestElement(range.startContainer)) === null || _a === void 0 ? void 0 : _a.closest(\"[data-time-start]\");\n        const end = (_b = closestElement(range.endContainer)) === null || _b === void 0 ? void 0 : _b.closest(\"[data-time-end]\");\n        const timeRange = getMediaTimeRange(start, end);\n        if (!timeRange) {\n            return null;\n        }\n        const [startTime, endTime] = timeRange;\n        return new MediaTimeAnchor(root, startTime, endTime);\n    }\n    /**\n     * Convert this anchor to a DOM range.\n     *\n     * This returned range will start from the beginning of the element whose\n     * associated time range includes `start` and continue to the end of the\n     * element whose associated time range includes `end`.\n     */\n    toRange() {\n        const segments = [...this.root.querySelectorAll(\"[data-time-start]\")]\n            .map((element) => {\n            const timeRange = getMediaTimeRange(element);\n            if (!timeRange) {\n                return null;\n            }\n            const [start, end] = timeRange;\n            return { element, start, end };\n        })\n            .filter((s) => s !== null);\n        segments.sort((a, b) => a.start - b.start);\n        const startIdx = findLastIndex(segments, (s) => s.start <= this.start && s.end >= this.start);\n        if (startIdx === -1) {\n            throw new Error(\"Start segment not found\");\n        }\n        const endIdx = startIdx +\n            segments\n                .slice(startIdx)\n                .findIndex((s) => s.start <= this.end && s.end >= this.end);\n        if (endIdx === -1) {\n            throw new Error(\"End segment not found\");\n        }\n        const range = new Range();\n        range.setStart(segments[startIdx].element, 0);\n        const endEl = segments[endIdx].element;\n        range.setEnd(endEl, endEl.childNodes.length);\n        return range;\n    }\n    static fromSelector(root, selector) {\n        const { start, end } = selector;\n        return new MediaTimeAnchor(root, start, end);\n    }\n    toSelector() {\n        return {\n            type: \"MediaTimeSelector\",\n            start: this.start,\n            end: this.end,\n        };\n    }\n}\n","import { log } from \"../util/log\";\nimport { getClientRectsNoOverlap, dezoomDomRect, dezoomRect, rectContainsPoint, domRectToRect, } from \"../util/rect\";\nimport { TextQuoteAnchor } from \"../vendor/hypothesis/annotator/anchoring/types\";\nexport class DecorationManager {\n    constructor(window) {\n        this.styles = new Map();\n        this.groups = new Map();\n        this.lastGroupId = 0;\n        this.window = window;\n        // Relayout all the decorations when the document body is resized.\n        window.addEventListener(\"load\", () => {\n            const body = window.document.body;\n            let lastSize = { width: 0, height: 0 };\n            const observer = new ResizeObserver(() => {\n                requestAnimationFrame(() => {\n                    if (lastSize.width === body.clientWidth &&\n                        lastSize.height === body.clientHeight) {\n                        return;\n                    }\n                    lastSize = {\n                        width: body.clientWidth,\n                        height: body.clientHeight,\n                    };\n                    this.relayoutDecorations();\n                });\n            });\n            observer.observe(body);\n        }, false);\n    }\n    registerTemplates(templates) {\n        let stylesheet = \"\";\n        for (const [id, template] of templates) {\n            this.styles.set(id, template);\n            if (template.stylesheet) {\n                stylesheet += template.stylesheet + \"\\n\";\n            }\n        }\n        if (stylesheet) {\n            const styleElement = document.createElement(\"style\");\n            styleElement.innerHTML = stylesheet;\n            document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n        }\n    }\n    addDecoration(decoration, groupName) {\n        console.log(`addDecoration ${decoration.id} ${groupName}`);\n        const group = this.getGroup(groupName);\n        group.add(decoration);\n    }\n    removeDecoration(id, groupName) {\n        console.log(`removeDecoration ${id} ${groupName}`);\n        const group = this.getGroup(groupName);\n        group.remove(id);\n    }\n    relayoutDecorations() {\n        console.log(\"relayoutDecorations\");\n        for (const group of this.groups.values()) {\n            group.relayout();\n        }\n    }\n    getGroup(name) {\n        let group = this.groups.get(name);\n        if (!group) {\n            const id = \"readium-decoration-\" + this.lastGroupId++;\n            group = new DecorationGroup(id, name, this.styles);\n            this.groups.set(name, group);\n        }\n        return group;\n    }\n    /**\n     * Handles click events on a Decoration.\n     * Returns whether a decoration matched this event.\n     */\n    handleDecorationClickEvent(event) {\n        if (this.groups.size === 0) {\n            return null;\n        }\n        const findTarget = () => {\n            for (const [group, groupContent] of this.groups) {\n                for (const item of groupContent.items.reverse()) {\n                    if (!item.clickableElements) {\n                        continue;\n                    }\n                    for (const element of item.clickableElements) {\n                        const rect = domRectToRect(element.getBoundingClientRect());\n                        if (rectContainsPoint(rect, event.clientX, event.clientY, 1)) {\n                            return { group, item, element };\n                        }\n                    }\n                }\n            }\n        };\n        const target = findTarget();\n        if (!target) {\n            return null;\n        }\n        return {\n            id: target.item.decoration.id,\n            group: target.group,\n            rect: domRectToRect(target.item.range.getBoundingClientRect()),\n            event: event,\n        };\n    }\n}\nclass DecorationGroup {\n    constructor(id, name, styles) {\n        this.items = [];\n        this.lastItemId = 0;\n        this.container = null;\n        this.groupId = id;\n        this.groupName = name;\n        this.styles = styles;\n    }\n    add(decoration) {\n        const id = this.groupId + \"-\" + this.lastItemId++;\n        const range = rangeFromDecorationTarget(decoration.cssSelector, decoration.textQuote);\n        if (!range) {\n            log(\"Can't locate DOM range for decoration\", decoration);\n            return;\n        }\n        const item = {\n            id,\n            decoration,\n            range,\n            container: null,\n            clickableElements: null,\n        };\n        this.items.push(item);\n        this.layout(item);\n    }\n    remove(id) {\n        const index = this.items.findIndex((it) => it.decoration.id === id);\n        if (index === -1) {\n            return;\n        }\n        const item = this.items[index];\n        this.items.splice(index, 1);\n        item.clickableElements = null;\n        if (item.container) {\n            item.container.remove();\n            item.container = null;\n        }\n    }\n    relayout() {\n        this.clearContainer();\n        for (const item of this.items) {\n            this.layout(item);\n        }\n    }\n    /**\n     * Returns the group container element, after making sure it exists.\n     */\n    requireContainer() {\n        if (!this.container) {\n            this.container = document.createElement(\"div\");\n            this.container.id = this.groupId;\n            this.container.dataset.group = this.groupName;\n            this.container.style.pointerEvents = \"none\";\n            document.body.append(this.container);\n        }\n        return this.container;\n    }\n    /**\n     * Removes the group container.\n     */\n    clearContainer() {\n        if (this.container) {\n            this.container.remove();\n            this.container = null;\n        }\n    }\n    /**\n     * Layouts a single Decoration item.\n     */\n    layout(item) {\n        const groupContainer = this.requireContainer();\n        const unsafeStyle = this.styles.get(item.decoration.style);\n        if (!unsafeStyle) {\n            console.log(`Unknown decoration style: ${item.decoration.style}`);\n            return;\n        }\n        const style = unsafeStyle;\n        const itemContainer = document.createElement(\"div\");\n        itemContainer.id = item.id;\n        itemContainer.dataset.style = item.decoration.style;\n        itemContainer.style.pointerEvents = \"none\";\n        const documentWritingMode = getDocumentWritingMode();\n        const isVertical = documentWritingMode === \"vertical-rl\" ||\n            documentWritingMode === \"vertical-lr\";\n        const zoom = groupContainer.currentCSSZoom;\n        const scrollingElement = document.scrollingElement;\n        const xOffset = scrollingElement.scrollLeft / zoom;\n        const yOffset = scrollingElement.scrollTop / zoom;\n        const viewportWidth = isVertical ? window.innerHeight : window.innerWidth;\n        const viewportHeight = isVertical ? window.innerWidth : window.innerHeight;\n        const columnCount = parseInt(getComputedStyle(document.documentElement).getPropertyValue(\"column-count\")) || 1;\n        const pageSize = (isVertical ? viewportHeight : viewportWidth) / columnCount;\n        function positionElement(element, rect, boundingRect, writingMode) {\n            element.style.position = \"absolute\";\n            const isVerticalRL = writingMode === \"vertical-rl\";\n            const isVerticalLR = writingMode === \"vertical-lr\";\n            if (isVerticalRL || isVerticalLR) {\n                if (style.width === \"wrap\") {\n                    element.style.width = `${rect.width}px`;\n                    element.style.height = `${rect.height}px`;\n                    if (isVerticalRL) {\n                        element.style.right = `${-rect.right - xOffset + scrollingElement.clientWidth}px`;\n                    }\n                    else {\n                        // vertical-lr\n                        element.style.left = `${rect.left + xOffset}px`;\n                    }\n                    element.style.top = `${rect.top + yOffset}px`;\n                }\n                else if (style.width === \"viewport\") {\n                    element.style.width = `${rect.height}px`;\n                    element.style.height = `${viewportWidth}px`;\n                    const top = Math.floor(rect.top / viewportWidth) * viewportWidth;\n                    if (isVerticalRL) {\n                        element.style.right = `${-rect.right - xOffset}px`;\n                    }\n                    else {\n                        // vertical-lr\n                        element.style.left = `${rect.left + xOffset}px`;\n                    }\n                    element.style.top = `${top + yOffset}px`;\n                }\n                else if (style.width === \"bounds\") {\n                    element.style.width = `${boundingRect.height}px`;\n                    element.style.height = `${viewportWidth}px`;\n                    if (isVerticalRL) {\n                        element.style.right = `${-boundingRect.right - xOffset + scrollingElement.clientWidth}px`;\n                    }\n                    else {\n                        // vertical-lr\n                        element.style.left = `${boundingRect.left + xOffset}px`;\n                    }\n                    element.style.top = `${boundingRect.top + yOffset}px`;\n                }\n                else if (style.width === \"page\") {\n                    element.style.width = `${rect.height}px`;\n                    element.style.height = `${pageSize}px`;\n                    const top = Math.floor(rect.top / pageSize) * pageSize;\n                    if (isVerticalRL) {\n                        element.style.right = `${-rect.right - xOffset + scrollingElement.clientWidth}px`;\n                    }\n                    else {\n                        // vertical-lr\n                        element.style.left = `${rect.left + xOffset}px`;\n                    }\n                    element.style.top = `${top + yOffset}px`;\n                }\n            }\n            else {\n                if (style.width === \"wrap\") {\n                    element.style.width = `${rect.width}px`;\n                    element.style.height = `${rect.height}px`;\n                    element.style.left = `${rect.left + xOffset}px`;\n                    element.style.top = `${rect.top + yOffset}px`;\n                }\n                else if (style.width === \"viewport\") {\n                    element.style.width = `${viewportWidth}px`;\n                    element.style.height = `${rect.height}px`;\n                    const left = Math.floor(rect.left / viewportWidth) * viewportWidth;\n                    element.style.left = `${left + xOffset}px`;\n                    element.style.top = `${rect.top + yOffset}px`;\n                }\n                else if (style.width === \"bounds\") {\n                    element.style.width = `${boundingRect.width}px`;\n                    element.style.height = `${rect.height}px`;\n                    element.style.left = `${boundingRect.left + xOffset}px`;\n                    element.style.top = `${rect.top + yOffset}px`;\n                }\n                else if (style.width === \"page\") {\n                    element.style.width = `${pageSize}px`;\n                    element.style.height = `${rect.height}px`;\n                    const left = Math.floor(rect.left / pageSize) * pageSize;\n                    element.style.left = `${left + xOffset}px`;\n                    element.style.top = `${rect.top + yOffset}px`;\n                }\n            }\n        }\n        const rawBoundingRect = item.range.getBoundingClientRect();\n        const boundingRect = dezoomDomRect(rawBoundingRect, zoom);\n        let elementTemplate;\n        try {\n            const template = document.createElement(\"template\");\n            template.innerHTML = item.decoration.element.trim();\n            elementTemplate = template.content.firstElementChild;\n        }\n        catch (error) {\n            let message;\n            if (\"message\" in error) {\n                message = error.message;\n            }\n            else {\n                message = null;\n            }\n            console.log(`Invalid decoration element \"${item.decoration.element}\": ${message}`);\n            return;\n        }\n        if (style.layout === \"boxes\") {\n            const doNotMergeHorizontallyAlignedRects = !documentWritingMode.startsWith(\"vertical\");\n            const startElement = getContainingElement(item.range.startContainer);\n            // Decorated text may have a different writingMode from document body\n            const decoratorWritingMode = getComputedStyle(startElement).writingMode;\n            const clientRects = getClientRectsNoOverlap(item.range, doNotMergeHorizontallyAlignedRects)\n                .map((rect) => {\n                return dezoomRect(rect, zoom);\n            })\n                .sort((r1, r2) => {\n                if (r1.top !== r2.top)\n                    return r1.top - r2.top;\n                if (decoratorWritingMode === \"vertical-rl\") {\n                    return r2.left - r1.left;\n                }\n                else if (decoratorWritingMode === \"vertical-lr\") {\n                    return r1.left - r2.left;\n                }\n                else {\n                    return r1.left - r2.left;\n                }\n            });\n            for (const clientRect of clientRects) {\n                const line = elementTemplate.cloneNode(true);\n                line.style.pointerEvents = \"none\";\n                line.dataset.writingMode = decoratorWritingMode;\n                positionElement(line, clientRect, boundingRect, documentWritingMode);\n                itemContainer.append(line);\n            }\n        }\n        else if (style.layout === \"bounds\") {\n            const bounds = elementTemplate.cloneNode(true);\n            bounds.style.pointerEvents = \"none\";\n            bounds.dataset.writingMode = documentWritingMode;\n            positionElement(bounds, boundingRect, boundingRect, documentWritingMode);\n            itemContainer.append(bounds);\n        }\n        groupContainer.append(itemContainer);\n        item.container = itemContainer;\n        item.clickableElements = Array.from(itemContainer.querySelectorAll(\"[data-activable='1']\"));\n        if (item.clickableElements.length === 0) {\n            item.clickableElements = Array.from(itemContainer.children);\n        }\n    }\n}\n/**\n * Returns the document body's writing mode.\n */\nfunction getDocumentWritingMode() {\n    return getComputedStyle(document.body).writingMode;\n}\n/**\n * Returns the closest element ancestor of the given node.\n */\nfunction getContainingElement(node) {\n    return node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\n}\n/*\n * Compute DOM range from decoration target.\n */\nexport function rangeFromDecorationTarget(cssSelector, textQuote) {\n    let root;\n    if (cssSelector) {\n        try {\n            root = document.querySelector(cssSelector);\n        }\n        catch (e) {\n            log(e);\n        }\n    }\n    if (!root && !textQuote) {\n        return null;\n    }\n    else if (!root) {\n        root = document.body;\n    }\n    if (textQuote) {\n        const anchor = new TextQuoteAnchor(root, textQuote.quotedText, {\n            prefix: textQuote.textBefore,\n            suffix: textQuote.textAfter,\n        });\n        return anchor.toRange();\n    }\n    else {\n        const range = document.createRange();\n        range.setStartBefore(root);\n        range.setEndAfter(root);\n        return range;\n    }\n}\n","//\n//  Copyright 2021 Readium Foundation. All rights reserved.\n//  Use of this source code is governed by the BSD-style license\n//  available in the top-level LICENSE file of the project.\n//\nimport { dezoomRect, domRectToRect } from \"../util/rect\";\nimport { log } from \"../util/log\";\nimport { TextRange } from \"../vendor/hypothesis/annotator/anchoring/text-range\";\n// Polyfill for Android API 26\nimport matchAll from \"string.prototype.matchall\";\nimport { rectToParentCoordinates } from \"./geometry\";\nmatchAll.shim();\nexport function selectionToParentCoordinates(selection, iframe) {\n    const boundingRect = iframe.getBoundingClientRect();\n    const shiftedRect = rectToParentCoordinates(selection.selectionRect, boundingRect);\n    return {\n        selectedText: selection === null || selection === void 0 ? void 0 : selection.selectedText,\n        selectionRect: shiftedRect,\n        textBefore: selection.textBefore,\n        textAfter: selection.textAfter,\n    };\n}\nexport class SelectionManager {\n    constructor(window) {\n        this.isSelecting = false;\n        //, listener: SelectionListener) {\n        this.window = window;\n        /*this.listener = listener\n        document.addEventListener(\n          \"selectionchange\",\n          () => {\n            const selection = window.getSelection()!\n            const collapsed = selection.isCollapsed\n    \n            if (collapsed && this.isSelecting) {\n              this.isSelecting = false\n              this.listener.onSelectionEnd()\n            } else if (!collapsed && !this.isSelecting) {\n              this.isSelecting = true\n              this.listener.onSelectionStart()\n            }\n          },\n          false\n        )*/\n    }\n    clearSelection() {\n        var _a;\n        (_a = this.window.getSelection()) === null || _a === void 0 ? void 0 : _a.removeAllRanges();\n    }\n    getCurrentSelection() {\n        const text = this.getCurrentSelectionText();\n        if (!text) {\n            return null;\n        }\n        const rect = this.getSelectionRect();\n        return {\n            selectedText: text.highlight,\n            textBefore: text.before,\n            textAfter: text.after,\n            selectionRect: rect,\n        };\n    }\n    getSelectionRect() {\n        try {\n            const selection = this.window.getSelection();\n            const range = selection.getRangeAt(0);\n            const zoom = this.window.document.body.currentCSSZoom;\n            return dezoomRect(domRectToRect(range.getBoundingClientRect()), zoom);\n        }\n        catch (e) {\n            log(e);\n            throw e;\n            //return null\n        }\n    }\n    getCurrentSelectionText() {\n        const selection = this.window.getSelection();\n        if (selection.isCollapsed) {\n            return undefined;\n        }\n        const highlight = selection.toString();\n        const cleanHighlight = highlight\n            .trim()\n            .replace(/\\n/g, \" \")\n            .replace(/\\s\\s+/g, \" \");\n        if (cleanHighlight.length === 0) {\n            return undefined;\n        }\n        if (!selection.anchorNode || !selection.focusNode) {\n            return undefined;\n        }\n        const range = selection.rangeCount === 1\n            ? selection.getRangeAt(0)\n            : createOrderedRange(selection.anchorNode, selection.anchorOffset, selection.focusNode, selection.focusOffset);\n        if (!range || range.collapsed) {\n            log(\"$$$$$$$$$$$$$$$$$ CANNOT GET NON-COLLAPSED SELECTION RANGE?!\");\n            return undefined;\n        }\n        const text = document.body.textContent;\n        const textRange = TextRange.fromRange(range).relativeTo(document.body);\n        const start = textRange.start.offset;\n        const end = textRange.end.offset;\n        const snippetLength = 200;\n        // Compute the text before the highlight, ignoring the first \"word\", which might be cut.\n        let before = text.slice(Math.max(0, start - snippetLength), start);\n        const firstWordStart = before.search(/\\P{L}\\p{L}/gu);\n        if (firstWordStart !== -1) {\n            before = before.slice(firstWordStart + 1);\n        }\n        // Compute the text after the highlight, ignoring the last \"word\", which might be cut.\n        let after = text.slice(end, Math.min(text.length, end + snippetLength));\n        const lastWordEnd = Array.from(after.matchAll(/\\p{L}\\P{L}/gu)).pop();\n        if (lastWordEnd !== undefined && lastWordEnd.index > 1) {\n            after = after.slice(0, lastWordEnd.index + 1);\n        }\n        return { highlight, before, after };\n    }\n}\nfunction createOrderedRange(startNode, startOffset, endNode, endOffset) {\n    const range = new Range();\n    range.setStart(startNode, startOffset);\n    range.setEnd(endNode, endOffset);\n    if (!range.collapsed) {\n        return range;\n    }\n    log(\">>> createOrderedRange COLLAPSED ... RANGE REVERSE?\");\n    const rangeReverse = new Range();\n    rangeReverse.setStart(endNode, endOffset);\n    rangeReverse.setEnd(startNode, startOffset);\n    if (!rangeReverse.collapsed) {\n        log(\">>> createOrderedRange RANGE REVERSE OK.\");\n        return range;\n    }\n    log(\">>> createOrderedRange RANGE REVERSE ALSO COLLAPSED?!\");\n    return undefined;\n}\n/*\nexport function convertRangeInfo(document: Document, rangeInfo) {\n  const startElement = document.querySelector(\n    rangeInfo.startContainerElementCssSelector\n  );\n  if (!startElement) {\n    log(\"^^^ convertRangeInfo NO START ELEMENT CSS SELECTOR?!\");\n    return undefined;\n  }\n  let startContainer = startElement;\n  if (rangeInfo.startContainerChildTextNodeIndex >= 0) {\n    if (\n      rangeInfo.startContainerChildTextNodeIndex >=\n      startElement.childNodes.length\n    ) {\n      log(\n        \"^^^ convertRangeInfo rangeInfo.startContainerChildTextNodeIndex >= startElement.childNodes.length?!\"\n      );\n      return undefined;\n    }\n    startContainer =\n      startElement.childNodes[rangeInfo.startContainerChildTextNodeIndex];\n    if (startContainer.nodeType !== Node.TEXT_NODE) {\n      log(\"^^^ convertRangeInfo startContainer.nodeType !== Node.TEXT_NODE?!\");\n      return undefined;\n    }\n  }\n  const endElement = document.querySelector(\n    rangeInfo.endContainerElementCssSelector\n  );\n  if (!endElement) {\n    log(\"^^^ convertRangeInfo NO END ELEMENT CSS SELECTOR?!\");\n    return undefined;\n  }\n  let endContainer = endElement;\n  if (rangeInfo.endContainerChildTextNodeIndex >= 0) {\n    if (\n      rangeInfo.endContainerChildTextNodeIndex >= endElement.childNodes.length\n    ) {\n      log(\n        \"^^^ convertRangeInfo rangeInfo.endContainerChildTextNodeIndex >= endElement.childNodes.length?!\"\n      );\n      return undefined;\n    }\n    endContainer =\n      endElement.childNodes[rangeInfo.endContainerChildTextNodeIndex];\n    if (endContainer.nodeType !== Node.TEXT_NODE) {\n      log(\"^^^ convertRangeInfo endContainer.nodeType !== Node.TEXT_NODE?!\");\n      return undefined;\n    }\n  }\n  return createOrderedRange(\n    startContainer,\n    rangeInfo.startOffset,\n    endContainer,\n    rangeInfo.endOffset\n  );\n}\n\nexport function location2RangeInfo(location) {\n  const locations = location.locations;\n  const domRange = locations.domRange;\n  const start = domRange.start;\n  const end = domRange.end;\n\n  return {\n    endContainerChildTextNodeIndex: end.textNodeIndex,\n    endContainerElementCssSelector: end.cssSelector,\n    endOffset: end.offset,\n    startContainerChildTextNodeIndex: start.textNodeIndex,\n    startContainerElementCssSelector: start.cssSelector,\n    startOffset: start.offset,\n  };\n}\n*/\n","export class DecorationWrapperParentSide {\n    setMessagePort(messagePort) {\n        this.messagePort = messagePort;\n    }\n    registerTemplates(templates) {\n        this.send({ kind: \"registerTemplates\", templates });\n    }\n    addDecoration(decoration, group) {\n        this.send({ kind: \"addDecoration\", decoration, group });\n    }\n    removeDecoration(id, group) {\n        this.send({ kind: \"removeDecoration\", id, group });\n    }\n    send(message) {\n        var _a;\n        (_a = this.messagePort) === null || _a === void 0 ? void 0 : _a.postMessage(message);\n    }\n}\nexport class DecorationWrapperIframeSide {\n    constructor(messagePort, decorationManager) {\n        this.decorationManager = decorationManager;\n        messagePort.onmessage = (message) => {\n            this.onCommand(message.data);\n        };\n    }\n    onCommand(command) {\n        switch (command.kind) {\n            case \"registerTemplates\":\n                return this.registerTemplates(command.templates);\n            case \"addDecoration\":\n                return this.addDecoration(command.decoration, command.group);\n            case \"removeDecoration\":\n                return this.removeDecoration(command.id, command.group);\n        }\n    }\n    registerTemplates(templates) {\n        this.decorationManager.registerTemplates(templates);\n    }\n    addDecoration(decoration, group) {\n        this.decorationManager.addDecoration(decoration, group);\n    }\n    removeDecoration(id, group) {\n        this.decorationManager.removeDecoration(id, group);\n    }\n}\n","export class IframeMessageSender {\n    constructor(messagePort) {\n        this.messagePort = messagePort;\n    }\n    send(message) {\n        this.messagePort.postMessage(message);\n    }\n}\n","export class SelectionWrapperParentSide {\n    constructor(listener) {\n        this.selectionListener = listener;\n    }\n    setMessagePort(messagePort) {\n        this.messagePort = messagePort;\n        messagePort.onmessage = (message) => {\n            this.onFeedback(message.data);\n        };\n    }\n    requestSelection(requestId) {\n        this.send({ kind: \"requestSelection\", requestId: requestId });\n    }\n    clearSelection() {\n        this.send({ kind: \"clearSelection\" });\n    }\n    onFeedback(feedback) {\n        switch (feedback.kind) {\n            case \"selectionAvailable\":\n                return this.onSelectionAvailable(feedback.requestId, feedback.selection);\n        }\n    }\n    onSelectionAvailable(requestId, selection) {\n        this.selectionListener.onSelectionAvailable(requestId, selection);\n    }\n    send(message) {\n        var _a;\n        (_a = this.messagePort) === null || _a === void 0 ? void 0 : _a.postMessage(message);\n    }\n}\nexport class SelectionWrapperIframeSide {\n    constructor(messagePort, manager) {\n        this.selectionManager = manager;\n        this.messagePort = messagePort;\n        messagePort.onmessage = (message) => {\n            this.onCommand(message.data);\n        };\n    }\n    onCommand(command) {\n        switch (command.kind) {\n            case \"requestSelection\":\n                return this.onRequestSelection(command.requestId);\n            case \"clearSelection\":\n                return this.onClearSelection();\n        }\n    }\n    onRequestSelection(requestId) {\n        const selection = this.selectionManager.getCurrentSelection();\n        const feedback = {\n            kind: \"selectionAvailable\",\n            requestId: requestId,\n            selection: selection,\n        };\n        this.sendFeedback(feedback);\n    }\n    onClearSelection() {\n        this.selectionManager.clearSelection();\n    }\n    sendFeedback(message) {\n        this.messagePort.postMessage(message);\n    }\n}\n","//\n//  Copyright 2024 Readium Foundation. All rights reserved.\n//  Use of this source code is governed by the BSD-style license\n//  available in the top-level LICENSE file of the project.\n//\n/**\n * Script loaded by fixed layout resources.\n */\nimport { DecorationManager, } from \"./common/decoration\";\nimport { GesturesDetector } from \"./common/gestures\";\nimport { SelectionManager } from \"./common/selection\";\nimport { parseViewportString } from \"./util/viewport\";\nimport { FixedInitializerIframeSide } from \"./bridge/all-initialization-bridge\";\nconst initializer = new FixedInitializerIframeSide(window);\nconst messageSender = initializer.initAreaManager();\nconst selectionManager = new SelectionManager(window);\ninitializer.initSelection(selectionManager);\nconst decorationManager = new DecorationManager(window);\ninitializer.initDecorations(decorationManager);\nconst viewportSize = parseContentSize(window.document);\nmessageSender.send({ kind: \"contentSize\", size: viewportSize });\nclass MessagingGesturesListener {\n    constructor(messageSender) {\n        this.messageSender = messageSender;\n    }\n    onTap(gestureEvent) {\n        const event = {\n            offset: { x: gestureEvent.clientX, y: gestureEvent.clientY },\n        };\n        this.messageSender.send({ kind: \"tap\", event: event });\n    }\n    onLinkActivated(href, outerHtml) {\n        this.messageSender.send({\n            kind: \"linkActivated\",\n            href: href,\n            outerHtml: outerHtml,\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    onDecorationActivated(gestureEvent) {\n        const event = {\n            id: gestureEvent.id,\n            group: gestureEvent.group,\n            rect: gestureEvent.rect,\n            offset: { x: gestureEvent.event.clientX, y: gestureEvent.event.clientY },\n        };\n        this.messageSender.send({\n            kind: \"decorationActivated\",\n            event: event,\n        });\n    }\n}\nconst messagingListener = new MessagingGesturesListener(messageSender);\nnew GesturesDetector(window, messagingListener, decorationManager);\nfunction parseContentSize(document) {\n    const viewport = document.querySelector(\"meta[name=viewport]\");\n    if (!viewport || !(viewport instanceof HTMLMetaElement)) {\n        return undefined;\n    }\n    return parseViewportString(viewport.content);\n}\n","import { DecorationWrapperIframeSide } from \"../fixed/decoration-wrapper\";\nimport { IframeMessageSender } from \"../fixed/iframe-message\";\nimport { SelectionWrapperIframeSide } from \"../fixed/selection-wrapper\";\nexport class FixedSingleInitializationBridge {\n    constructor(window, listener, iframe, areaBridge, selectionBridge, decorationsBridge) {\n        this.window = window;\n        this.listener = listener;\n        this.iframe = iframe;\n        this.areaBridge = areaBridge;\n        this.selectionBridge = selectionBridge;\n        this.decorationsBridge = decorationsBridge;\n    }\n    loadResource(url) {\n        this.iframe.src = url;\n        this.window.addEventListener(\"message\", (event) => {\n            console.log(\"message\");\n            if (!event.ports[0]) {\n                return;\n            }\n            if (event.source === this.iframe.contentWindow) {\n                this.onInitMessage(event);\n            }\n        });\n    }\n    onInitMessage(event) {\n        console.log(`receiving init message ${event}`);\n        const initMessage = event.data;\n        const messagePort = event.ports[0];\n        switch (initMessage) {\n            case \"InitAreaManager\":\n                return this.initAreaManager(messagePort);\n            case \"InitSelection\":\n                return this.initSelection(messagePort);\n            case \"InitDecorations\":\n                return this.initDecorations(messagePort);\n        }\n    }\n    initAreaManager(messagePort) {\n        this.areaBridge.setMessagePort(messagePort);\n        this.listener.onAreaApiAvailable();\n    }\n    initSelection(messagePort) {\n        this.selectionBridge.setMessagePort(messagePort);\n        this.listener.onSelectionApiAvailable();\n    }\n    initDecorations(messagePort) {\n        this.decorationsBridge.setMessagePort(messagePort);\n        this.listener.onDecorationApiAvailable();\n    }\n}\nexport class FixedDoubleInitializationBridge {\n    constructor(window, listener, leftIframe, rightIframe, areaBridge, selectionBridge, decorationsBridge) {\n        this.areaReadySemaphore = 2;\n        this.selectionReadySemaphore = 2;\n        this.decorationReadySemaphore = 2;\n        this.listener = listener;\n        this.areaBridge = areaBridge;\n        this.selectionBridge = selectionBridge;\n        this.decorationsBridge = decorationsBridge;\n        window.addEventListener(\"message\", (event) => {\n            if (!event.ports[0]) {\n                return;\n            }\n            if (event.source === leftIframe.contentWindow) {\n                this.onInitMessageLeft(event);\n            }\n            else if (event.source == rightIframe.contentWindow) {\n                this.onInitMessageRight(event);\n            }\n        });\n    }\n    loadSpread(spread) {\n        const pageNb = (spread.left ? 1 : 0) + (spread.right ? 1 : 0);\n        this.areaReadySemaphore = pageNb;\n        this.selectionReadySemaphore = pageNb;\n        this.decorationReadySemaphore = pageNb;\n        this.areaBridge.loadSpread(spread);\n    }\n    onInitMessageLeft(event) {\n        const initMessage = event.data;\n        const messagePort = event.ports[0];\n        switch (initMessage) {\n            case \"InitAreaManager\":\n                this.areaBridge.setLeftMessagePort(messagePort);\n                this.onInitAreaMessage();\n                break;\n            case \"InitSelection\":\n                this.selectionBridge.setLeftMessagePort(messagePort);\n                this.onInitSelectionMessage();\n                break;\n            case \"InitDecorations\":\n                this.decorationsBridge.setLeftMessagePort(messagePort);\n                this.onInitDecorationMessage();\n                break;\n        }\n    }\n    onInitMessageRight(event) {\n        const initMessage = event.data;\n        const messagePort = event.ports[0];\n        switch (initMessage) {\n            case \"InitAreaManager\":\n                this.areaBridge.setRightMessagePort(messagePort);\n                this.onInitAreaMessage();\n                break;\n            case \"InitSelection\":\n                this.selectionBridge.setRightMessagePort(messagePort);\n                this.onInitSelectionMessage();\n                break;\n            case \"InitDecorations\":\n                this.decorationsBridge.setRightMessagePort(messagePort);\n                this.onInitDecorationMessage();\n                break;\n        }\n    }\n    onInitAreaMessage() {\n        this.areaReadySemaphore -= 1;\n        if (this.areaReadySemaphore == 0) {\n            this.listener.onAreaApiAvailable();\n        }\n    }\n    onInitSelectionMessage() {\n        this.selectionReadySemaphore -= 1;\n        if (this.selectionReadySemaphore == 0) {\n            this.listener.onSelectionApiAvailable();\n        }\n    }\n    onInitDecorationMessage() {\n        this.decorationReadySemaphore -= 1;\n        if (this.decorationReadySemaphore == 0) {\n            this.listener.onDecorationApiAvailable();\n        }\n    }\n}\nexport class FixedInitializerIframeSide {\n    constructor(window) {\n        this.window = window;\n    }\n    initAreaManager() {\n        const messagePort = this.initChannel(\"InitAreaManager\");\n        return new IframeMessageSender(messagePort);\n    }\n    initSelection(selectionManager) {\n        const messagePort = this.initChannel(\"InitSelection\");\n        new SelectionWrapperIframeSide(messagePort, selectionManager);\n    }\n    initDecorations(decorationManager) {\n        const messagePort = this.initChannel(\"InitDecorations\");\n        new DecorationWrapperIframeSide(messagePort, decorationManager);\n    }\n    initChannel(initMessage) {\n        const messageChannel = new MessageChannel();\n        this.window.parent.postMessage(initMessage, \"*\", [messageChannel.port2]);\n        return messageChannel.port1;\n    }\n}\n","export class ViewportStringBuilder {\n    setInitialScale(scale) {\n        this.initialScale = scale;\n        return this;\n    }\n    setMinimumScale(scale) {\n        this.minimumScale = scale;\n        return this;\n    }\n    setWidth(width) {\n        this.width = width;\n        return this;\n    }\n    setHeight(height) {\n        this.height = height;\n        return this;\n    }\n    build() {\n        const components = [];\n        if (this.initialScale) {\n            components.push(\"initial-scale=\" + this.initialScale);\n        }\n        if (this.minimumScale) {\n            components.push(\"minimum-scale=\" + this.minimumScale);\n        }\n        if (this.width) {\n            components.push(\"width=\" + this.width);\n        }\n        if (this.height) {\n            components.push(\"height=\" + this.height);\n        }\n        return components.join(\", \");\n    }\n}\nexport function parseViewportString(viewportString) {\n    const regex = /(\\w+) *= *([^\\s,]+)/g;\n    const properties = new Map();\n    let match;\n    while ((match = regex.exec(viewportString))) {\n        if (match != null) {\n            properties.set(match[1], match[2]);\n        }\n    }\n    const width = parseFloat(properties.get(\"width\"));\n    const height = parseFloat(properties.get(\"height\"));\n    if (width && height) {\n        return { width, height };\n    }\n    else {\n        return undefined;\n    }\n}\n","export class GesturesDetector {\n    constructor(window, listener, decorationManager) {\n        this.window = window;\n        this.listener = listener;\n        this.decorationManager = decorationManager;\n        document.addEventListener(\"click\", (event) => {\n            this.onClick(event);\n        }, false);\n    }\n    onClick(event) {\n        if (event.defaultPrevented) {\n            return;\n        }\n        const selection = this.window.getSelection();\n        if (selection && selection.type == \"Range\") {\n            // There's an on-going selection, the tap will dismiss it so we don't forward it.\n            // selection.type might be None (collapsed) or Caret with a collapsed range\n            // when there is not true selection.\n            return;\n        }\n        let nearestElement;\n        if (event.target instanceof HTMLElement) {\n            nearestElement = this.nearestInteractiveElement(event.target);\n        }\n        else {\n            nearestElement = null;\n        }\n        if (nearestElement) {\n            if (nearestElement instanceof HTMLAnchorElement) {\n                this.listener.onLinkActivated(nearestElement.href, nearestElement.outerHTML);\n                event.stopPropagation();\n                event.preventDefault();\n            }\n            else {\n                return;\n            }\n        }\n        let decorationActivatedEvent;\n        if (this.decorationManager) {\n            decorationActivatedEvent =\n                this.decorationManager.handleDecorationClickEvent(event);\n        }\n        else {\n            decorationActivatedEvent = null;\n        }\n        if (decorationActivatedEvent) {\n            this.listener.onDecorationActivated(decorationActivatedEvent);\n        }\n        else {\n            this.listener.onTap(event);\n        }\n        // event.stopPropagation()\n        // event.preventDefault()\n    }\n    // See. https://github.com/JayPanoz/architecture/tree/touch-handling/misc/touch-handling\n    nearestInteractiveElement(element) {\n        if (element == null) {\n            return null;\n        }\n        const interactiveTags = [\n            \"a\",\n            \"audio\",\n            \"button\",\n            \"canvas\",\n            \"details\",\n            \"input\",\n            \"label\",\n            \"option\",\n            \"select\",\n            \"submit\",\n            \"textarea\",\n            \"video\",\n        ];\n        if (interactiveTags.indexOf(element.nodeName.toLowerCase()) != -1) {\n            return element;\n        }\n        // Checks whether the element is editable by the user.\n        if (element.hasAttribute(\"contenteditable\") &&\n            element.getAttribute(\"contenteditable\").toLowerCase() != \"false\") {\n            return element;\n        }\n        // Checks parents recursively because the touch might be for example on an <em> inside a <a>.\n        if (element.parentElement) {\n            return this.nearestInteractiveElement(element.parentElement);\n        }\n        return null;\n    }\n}\n"],"names":["reverse","s","split","join","oneIfNotZero","n","advanceBlock","ctx","peq","b","hIn","pV","P","mV","M","hInIsNegative","eq","xV","xH","pH","mH","hOut","lastRowMask","findMatchEnds","text","pattern","maxErrors","length","Math","min","matches","w","bMax","ceil","Uint32Array","fill","emptyPeq","Map","asciiPeq","i","push","c","val","charCodeAt","has","charPeq","set","r","idx","y","max","score","j","charCode","get","carry","maxBlockScore","splice","start","end","errors","exports","patRev","map","m","minStart","slice","reduce","rm","findMatchStarts","GetIntrinsic","callBind","$indexOf","module","name","allowMissing","intrinsic","bind","$apply","$call","$reflectApply","call","$gOPD","$defineProperty","$max","value","e","originalFunction","func","arguments","configurable","applyBind","apply","hasPropertyDescriptors","$SyntaxError","$TypeError","gopd","obj","property","nonEnumerable","nonWritable","nonConfigurable","loose","desc","enumerable","writable","keys","hasSymbols","Symbol","toStr","Object","prototype","toString","concat","Array","defineDataProperty","supportsDescriptors","defineProperty","object","predicate","fn","defineProperties","predicates","props","getOwnPropertySymbols","hasToStringTag","toStringTag","overrideIfSet","force","iterator","isPrimitive","isCallable","isDate","isSymbol","input","exoticToPrim","hint","String","Number","toPrimitive","O","TypeError","GetMethod","valueOf","result","method","methodNames","ordinaryToPrimitive","that","target","this","bound","args","boundLength","boundArgs","Function","Empty","implementation","functionsHaveNames","gOPD","getOwnPropertyDescriptor","functionsHaveConfigurableNames","$bind","boundFunctionsHaveNames","undefined","SyntaxError","$Function","getEvalledConstructor","expressionSyntax","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasProto","getProto","getPrototypeOf","x","__proto__","needsEval","TypedArray","Uint8Array","INTRINSICS","AggregateError","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Error","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","isNaN","JSON","parseFloat","parseInt","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","URIError","WeakMap","WeakRef","WeakSet","error","errorProto","doEval","gen","LEGACY_ALIASES","hasOwn","$concat","$spliceApply","$replace","replace","$strSlice","$exec","exec","rePropName","reEscapeChar","getBaseIntrinsic","alias","intrinsicName","parts","string","first","last","match","number","quote","subString","stringToPath","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","hasArrayLengthDefineBug","test","foo","$Object","origSymbol","hasSymbolSham","sym","symObj","getOwnPropertyNames","syms","propertyIsEnumerable","descriptor","hasOwnProperty","channel","SLOT","assert","slot","slots","V","freeze","badArrayLike","isCallableMarker","fnToStr","reflectApply","_","constructorRegex","isES6ClassFn","fnStr","tryFunctionObject","isIE68","isDDA","document","all","str","strClass","getDay","tryDateObject","isRegexMarker","badStringifier","callBound","throwRegexMarker","$toString","symToStr","symStringRegex","isSymbolObject","hasMap","mapSizeDescriptor","mapSize","mapForEach","forEach","hasSet","setSizeDescriptor","setSize","setForEach","weakMapHas","weakSetHas","weakRefDeref","deref","booleanValueOf","objectToString","functionToString","$match","$slice","$toUpperCase","toUpperCase","$toLowerCase","toLowerCase","$test","$join","$arrSlice","$floor","floor","bigIntValueOf","gOPS","symToString","hasShammedSymbols","isEnumerable","gPO","addNumericSeparator","num","Infinity","sepRegex","int","intStr","dec","utilInspect","inspectCustom","custom","inspectSymbol","wrapQuotes","defaultStyle","opts","quoteChar","quoteStyle","isArray","isRegExp","inspect_","options","depth","seen","maxStringLength","customInspect","indent","numericSeparator","inspectString","bigIntStr","maxDepth","baseIndent","base","prev","getIndent","indexOf","inspect","from","noIndent","newOpts","f","nameOf","arrObjKeys","symString","markBoxed","HTMLElement","nodeName","getAttribute","attrs","attributes","childNodes","xs","singleLineValues","indentedJoin","isError","cause","isMap","mapParts","key","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","isBigInt","isBoolean","isString","ys","isPlainObject","constructor","protoTag","stringTag","tag","l","remaining","trailer","lowbyte","type","size","entries","lineJoiner","isArr","symMap","k","keysShim","isArgs","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","window","isObject","isFunction","isArguments","theKeys","skipProto","skipConstructor","equalsConstructorPrototypeIfNotBuggy","origKeys","originalKeys","shim","keysWorksWithArguments","callee","setFunctionName","hasIndices","global","ignoreCase","multiline","dotAll","unicode","unicodeSets","sticky","define","getPolyfill","flagsBound","flags","calls","TypeErr","regex","polyfill","proto","isRegex","hasDescriptors","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","list","curr","next","$wm","$m","$o","objects","node","listGet","listHas","listSet","Call","Get","IsRegExp","ToString","RequireObjectCoercible","flagsGetter","regexpMatchAllPolyfill","getMatcher","regexp","matcherPolyfill","matchAll","matcher","S","rx","boundMatchAll","regexpMatchAll","CreateRegExpStringIterator","SpeciesConstructor","ToLength","Type","OrigRegExp","supportsConstructingWithFlags","regexMatchAll","R","tmp","C","source","constructRegexWithFlags","lastIndex","fullUnicode","defineP","symbol","mvsIsWS","leftWhitespace","rightWhitespace","boundMethod","receiver","trim","CodePointAt","isInteger","MAX_SAFE_INTEGER","index","IsArray","F","argumentsList","isLeadingSurrogate","isTrailingSurrogate","UTF16SurrogatePairToCodePoint","$charAt","$charCodeAt","position","cp","firstIsLeading","firstIsTrailing","second","done","DefineOwnProperty","FromPropertyDescriptor","IsDataDescriptor","IsPropertyKey","SameValue","IteratorPrototype","AdvanceStringIndex","CreateIterResultObject","CreateMethodProperty","OrdinaryObjectCreate","RegExpExec","setToStringTag","RegExpStringIterator","thisIndex","nextIndex","isPropertyDescriptor","IsAccessorDescriptor","ToPropertyDescriptor","Desc","assertRecord","fromPropertyDescriptor","GetV","IsCallable","$construct","DefinePropertyOrThrow","isConstructorMarker","argument","err","hasRegExpMatcher","ToBoolean","$ObjectCreate","additionalInternalSlotsList","T","regexExec","$isNaN","noThrowOnStrictViolation","Throw","$species","IsConstructor","defaultConstructor","$Number","$RegExp","$parseInteger","regexTester","isBinary","isOctal","isInvalidHexLiteral","hasNonWS","$trim","StringToNumber","NaN","trimmed","ToNumber","truncate","$isFinite","ToIntegerOrInfinity","len","ToPrimitive","Obj","getter","setter","$String","ES5Type","$fromCharCode","lead","trail","optMessage","$isEnumerable","$Array","allowed","isData","IsAccessor","then","recordType","argumentName","array","callback","$abs","absValue","record","a","ES","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","d","definition","prop","debug","log","console","dezoomRect","rect","zoomLevel","bottom","height","left","right","top","width","domRectToRect","getClientRectsNoOverlap","range","doNotMergeHorizontallyAlignedRects","clientRects","getClientRects","originalRects","rangeClientRect","newRects","replaceOverlapingRects","rects","tolerance","rectsToKeep","possiblyContainingRect","rectContains","delete","removeContainedRects","mergeTouchingRects","rect1","rect2","rectsLineUpVertically","almostEqual","rectsLineUpHorizontally","rectsTouchOrOverlap","filter","replacementClientRect","getBoundingRect","rectContainsPoint","toRemove","toAdd","subtractRects1","rectSubtract","subtractRects2","rectIntersected","maxLeft","minRight","maxTop","minBottom","rectIntersect","rectA","rectB","rectC","rectD","abs","TrimDirection","ResolveDirection","search","matchPos","exactMatches","textMatchScore","closestNonSpaceInString","baseOffset","direction","nextChar","Forwards","charAt","availableChars","availableNonWhitespaceChars","Backwards","substring","trimEnd","trimStart","offsetDelta","closestNonSpaceInRange","nodeIter","commonAncestorContainer","ownerDocument","createNodeIterator","NodeFilter","SHOW_TEXT","initialBoundaryNode","startContainer","endContainer","terminalBoundaryNode","currentNode","nextNode","previousNode","trimmedOffset","advance","nodeText","textContent","offset","nodeTextLength","_a","_b","nodeType","Node","ELEMENT_NODE","TEXT_NODE","previousSiblingsTextLength","sibling","previousSibling","resolveOffsets","element","offsets","nextOffset","shift","results","textNode","data","relativeTo","parent","contains","el","parentElement","resolve","tw","createTreeWalker","getRootNode","forwards","FORWARDS","fromCharOffset","fromPoint","textOffset","toRange","BACKWARDS","Range","setStart","setEnd","fromRange","startOffset","endOffset","fromOffsets","root","trimmedRange","cloneRange","startTrimmed","endTrimmed","trimmedOffsets","trimRange","TextPositionAnchor","textRange","fromSelector","selector","toSelector","TextQuoteAnchor","exact","context","prefix","suffix","toPositionAnchor","scoreMatch","quoteScore","prefixScore","suffixScore","posScore","quoteWeight","scoredMatches","sort","matchQuote","assign","DecorationGroup","id","styles","items","lastItemId","container","groupId","groupName","add","decoration","cssSelector","textQuote","querySelector","body","quotedText","textBefore","textAfter","createRange","setStartBefore","setEndAfter","rangeFromDecorationTarget","item","clickableElements","layout","remove","findIndex","it","relayout","clearContainer","requireContainer","createElement","dataset","group","style","pointerEvents","append","groupContainer","unsafeStyle","itemContainer","documentWritingMode","getComputedStyle","writingMode","isVertical","zoom","currentCSSZoom","scrollingElement","xOffset","scrollLeft","yOffset","scrollTop","viewportWidth","innerHeight","innerWidth","viewportHeight","columnCount","documentElement","getPropertyValue","pageSize","positionElement","boundingRect","isVerticalRL","clientWidth","getBoundingClientRect","DOMRect","elementTemplate","template","innerHTML","content","firstElementChild","message","startsWith","startElement","decoratorWritingMode","r1","r2","clientRect","line","cloneNode","bounds","querySelectorAll","children","DecorationWrapperIframeSide","messagePort","decorationManager","onmessage","onCommand","command","kind","registerTemplates","templates","addDecoration","removeDecoration","IframeMessageSender","send","postMessage","SelectionWrapperIframeSide","manager","selectionManager","onRequestSelection","requestId","onClearSelection","feedback","selection","getCurrentSelection","sendFeedback","clearSelection","initializer","initAreaManager","initChannel","initSelection","initDecorations","initMessage","messageChannel","MessageChannel","port2","port1","messageSender","isSelecting","getSelection","removeAllRanges","getCurrentSelectionText","getSelectionRect","selectedText","highlight","before","after","selectionRect","getRangeAt","isCollapsed","anchorNode","focusNode","rangeCount","startNode","endNode","collapsed","rangeReverse","createOrderedRange","anchorOffset","focusOffset","firstWordStart","lastWordEnd","pop","groups","lastGroupId","addEventListener","lastSize","ResizeObserver","requestAnimationFrame","clientHeight","relayoutDecorations","observe","stylesheet","styleElement","getElementsByTagName","appendChild","getGroup","values","handleDecorationClickEvent","event","groupContent","clientX","clientY","findTarget","viewportSize","viewport","HTMLMetaElement","viewportString","properties","parseViewportString","parseContentSize","messagingListener","onTap","gestureEvent","onLinkActivated","href","outerHtml","onDecorationActivated","listener","onClick","defaultPrevented","nearestElement","decorationActivatedEvent","nearestInteractiveElement","HTMLAnchorElement","outerHTML","stopPropagation","preventDefault","hasAttribute"],"sourceRoot":""}